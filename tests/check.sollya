/*********************************************************************************/
restart;
print("=============== Test number 1 ================");
verbosity = 1!;
roundingwarnings = on!;
sin(pi * 3);
tan(pi/2);
sin(pi * 3)/cos(pi * 2.5);
0/0;
1/0;


/*********************************************************************************/
restart;
print("=============== Test number 2 ================");
printfloat(1b128 - 1b103 - 1b-500);
printfloat(1b128 - 1b103 - 1b-74);
printfloat(1b128 - 1b103 - 1b-75);
printfloat(1b128 - 1b103);
printfloat(1b128 - 1b103 + 1b-500);
printfloat(1b128 - 1b103 + 1b-74);
printfloat(1b128 - 1b103 + 1b-75);
printfloat(1.0000000010111111111111111000001_2 * 2^(-140));
printfloat(-1.0000000010111111111111111000001_2 * 2^(-140));
printfloat(1b-1000);
printfloat(-1b-1000);
printfloat(0);
printfloat(-0);
printfloat(infty);
printfloat(-infty);
printfloat(NaN);
printfloat(1b-150);
prec = 2000!;
printfloat(1b-150 + 1b-1000);
printfloat(1b-150 - 1b-1000);
printfloat(-1b-150 + 1b-1000);
printfloat(-1b-150 - 1b-1000);


/*********************************************************************************/
restart;
print("=============== Test number 3 ================");
0/0;
3/0;
sin(5 * pi) / sin(5 * pi);
sin(5 * pi) / 0;
x/x;
sin(x)/cos(x + 0.5 * pi);
evaluate(0/0,17);
evaluate(3/0,17);
evaluate(sin(5 * pi)/sin(5 * pi),17);
evaluate(sin(5 * pi) / 0, 17);
evaluate(x/x,17);
evaluate(x/x,0);
evaluate(sin(x)/cos(x + 0.5 * pi),17);
evaluate(0/0,[0.17]);
evaluate(3/0,[0.17]);
evaluate(sin(5 * pi)/sin(5 * pi),[0.17]);
evaluate(sin(5 * pi) / 0, [0.17]);
evaluate(x/x,[0.17]);
evaluate(x/x,[0]);
evaluate(x/x,[-1b-100000;-1b-100000]);
evaluate(sin(x)/cos(x + 0.5 * pi),[0.17]);


/*********************************************************************************/
restart; 
0 * infty;
infty - infty;
infty + (-infty);
infty + (-1) * infty;
[0] * infty;
infty * [0];
infty * 0;
[infty] * 0;
0 * [infty];
[0] * [infty];
[infty] * [0];
0 * [-infty,infty];
0 * [3,4];
[0] * 3;
[0] * [3,4];

/*********************************************************************************/
restart; 
2 + [3;4];
[4;5] + [5;6];
1 + 1~0/2~;
exp([5;5]);
a = exp(sin(x));
a([5;6]);


/*********************************************************************************/
restart; 
midpointmode = on;
evaluate(sin(x),3.5);
evaluate(sin(x),[3.5;3.5]);
evaluate(sin(x),3.4);
evaluate(sin(x),[3.4;3.4]);
evaluate(sin(pi * x),3.5);
evaluate(sin(pi * x),[3.5;3.5]);
evaluate(sin(pi * x),3.4);
evaluate(sin(pi * x),[3.4;3.4]);
evaluate(cos(x),3.5);
evaluate(cos(x),[3.5;3.5]);
evaluate(cos(x),3.4);
evaluate(cos(x),[3.4;3.4]);
evaluate(cos(pi * x),3.5);
evaluate(cos(pi * x),[3.5;3.5]);
evaluate(cos(pi * x),3.4);
evaluate(cos(pi * x),[3.4;3.4]);

/*********************************************************************************/
restart; 
23~2/3~;
23~3/2~;
0.1~1/2~;
0.125~0/0~;
0.1~2/1~;
0.1~1/9~;
0.1~9/1~;
0.1~9/1~ == 0.1~1/9~;
-23~2/3~;
-23~3/2~;
-0.1~1/2~;
-0.125~0/0~;
-0.1~2/1~;
-0.1~1/9~;
-0.1~9/1~;
-0.1~9/1~ == -0.1~1/9~;
midpointmode = on;
23~2/3~;
23~3/2~;
0.1~1/2~;
0.125~0/0~;
0.1~2/1~;
0.1~1/9~;
0.1~9/1~;
0.1~9/1~ == 0.1~1/9~;
-23~2/3~;
-23~3/2~;
-0.1~1/2~;
-0.125~0/0~;
-0.1~2/1~;
-0.1~1/9~;
-0.1~9/1~;
-0.1~9/1~ == -0.1~1/9~;

/*********************************************************************************/
restart; 
%12%4097;
%10%0.1;
%34000%0.1;
5e-3;
0.5;
5.0;

/*********************************************************************************/
restart; 
midpointmode = on!;
[-10971362213211443216165490671142190371208827223443b-165;-43885448852845772864661962684568761484835308893771b-167];
[43885448852845772864661962684568761484835308893771b-167;10971362213211443216165490671142190371208827223443b-165];
[0;0];
[1.25;1.25];
prec = 300!;
d = [1 + 1b-200; 1 + 1b-200];
prec = 50!;
d;
midpointmode = off!;
0~0/0~;
1~0/0~e2;

/*********************************************************************************/
restart; 
p = remez(exp(x), 5, [-1;1]);
accurateinfnorm(p - exp(x), [-1;1], 20);
accurateinfnorm(p - exp(x), [-1;1], 30);
accurateinfnorm(p - exp(x), [-1;1], 40);

/*********************************************************************************/
restart; 
p = remez(exp(x), 5, [-1;1]);
midpointmode = on!;
infnorm(p - exp(x), [-1;1]);
accurateinfnorm(p - exp(x), [-1;1], 40);


/*********************************************************************************/
restart;
print("=============== Test number 4 ================");
true && false;

/*********************************************************************************/
restart;
print("=============== Test number 5 ================");
(1 == exp(0)) && (0 == log(1));

/*********************************************************************************/
restart;
print("=============== Test number 6 ================");
[|2,3,4|]:.5;

/*********************************************************************************/
restart;
print("=============== Test number 7 ================");
[|1,2,3|]:.[|4,5,6|];

/*********************************************************************************/
restart;
print("=============== Test number 8 ================");
[||]:.1;

/*********************************************************************************/
restart;
print("=============== Test number 9 ================");
autosimplify = on !;
print(x - x);
autosimplify = off ;
print(x - x);

/*********************************************************************************/
restart; 
autosimplify = on !; 
print(rationalapprox(sin(pi/5.9),7));
autosimplify = off !; 
print(rationalapprox(sin(pi/5.9),7));

/*********************************************************************************/
restart; 
autosimplify; 

/*********************************************************************************/
restart;
print("=============== Test number 10 ================");
print(canonical(1 + x * (x + 3 * x^2)));
print(canonical((x + 1)^7));

/*********************************************************************************/
restart;
print("=============== Test number 11 ================");
print(canonical(exp((x + 1)^5) - log(asin(((x + 2) + x)^4 * (x + 1)) + x)));

/*********************************************************************************/
restart;
print("=============== Test number 12 ================");
canonical;
(x + 2)^9;
canonical = on;
(x + 2)^9;
canonical;
canonical = off!;
(x + 2)^9;

/*********************************************************************************/
restart; 
checkinfnorm(sin(x),[0;1.75], 1);
checkinfnorm(sin(x),[0;1.75], 1/2); checkinfnorm(sin(x),[0;20/39],
1/2);

/*********************************************************************************/
restart;
print("=============== Test number 13 ================");
p = remez(exp(x), 5, [-1;1]);
b = dirtyinfnorm(p - exp(x), [-1;1]);
checkinfnorm(p - exp(x), [-1;1], b);
b1 = round(b, 20, RU);
checkinfnorm(p - exp(x), [-1;1], b1);
b2 = round(b, 25, RU);
checkinfnorm(p - exp(x), [-1;1], b2);
diam = 1b-20!;
checkinfnorm(p - exp(x), [-1;1], b2);

/*********************************************************************************/
restart;
print("=============== Test number 14 ================");
coeff((1+x)^5,3);

/*********************************************************************************/
restart;
print("=============== Test number 15 ================");
coeff(sin(x),0);


/*********************************************************************************/
restart;
print("=============== Test number 16 ================");
[|1,...,3|]@[|7,8,9|];

/*********************************************************************************/
restart;
print("=============== Test number 17 ================");
"Hello "@"World!";


/*********************************************************************************/
restart;
print("=============== Test number 18 ================");
p = remez(exp(x),5,[0;1],default,1e-5);
q = remez(exp(x),5,[0;1],1,1e-5);
p==q;

/*********************************************************************************/
restart;
print("=============== Test number 19 ================");
prec;
prec=200;
/*********************************************************************************/
restart;
print("=============== Test number 20 ================");
degree((1+x)*(2+5*x^2));
degree(0);

/*********************************************************************************/
restart;
print("=============== Test number 21 ================");
degree(sin(x));


/*********************************************************************************/
restart;
print("=============== Test number 22 ================");
denominator(5/3);

/*********************************************************************************/
restart;
print("=============== Test number 23 ================");
denominator(exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 24 ================");
a = 5/3;
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
print("=============== Test number 25 ================");
a = exp(x/3);
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
print("=============== Test number 26 ================");
diff(sin(x));

/*********************************************************************************/
restart;
print("=============== Test number 27 ================");
diff(x);

/*********************************************************************************/
restart;
print("=============== Test number 28 ================");
diff(x^x);

/*********************************************************************************/
restart;
print("=============== Test number 29 ================");
dirtyfindzeros(sin(x),[-5;5]);

/*********************************************************************************/
restart;
print("=============== Test number 30 ================");
p=889889516953035728989970006432565914118046095519567616686877970197303381060661650911373862730167175148439925356273269082482473781952934014048404246810557360519237b-677 + x * (392685047947827601505450851321573944986223666748888685200576755780370155425b-270 + x * (6001249631295599119794173987807978692360967732847507181353592112990700057773b-269 + x * (2810819263714567704618725647638922679615238080553927915691512053415493045486398123b-285 + x * (-1824058336184758458969066742009524525357478424213884880689936002406163518809888085b-282 + x * (-1635962643824047985870094070979551805254244569221628530659549014596616547292989167b-278 + x * (-2221893430275237204276174740150279260780200400045772335021314186970726126808696491b-277 + x * (-2344509239333157190743702590067848983609138523264986348387970421264340202282344565b-278 + x * (-3121432669974466360620808110931436402064131037978432583759915593600761236225527063b-280 + x * (-773917963800655166097602101204889507346108619385550777380687347677098189388564217b-280 + x * (-2456664134304800458388215318267381311201333055351202856339933444862365076107756847b-284 + x * (-1626720184987310978262797176693785746775034556205416914324062489909804126678683201b-286 + x * (-231104585279383115477600187708095312641841452578724474216559610155717712302025371b-286 + x * (-3680933644980096067735623537745219210440859046288758139373481017585165187552360301b-293 + x * (-3259689780494466170755267237788248621126395891437548729425851984090889527932420467b-296 + x * (-2599581435183057564397429433475659302180945474761956190281405670069071985683851999b-299 + x * (-3771179902233087427639666368377239797574764415450620446939473166738711685615183895b-303 + x * (-2508412234578166550400356517439588588327863629620629190868385191302596018780682931b-306 + x * (-1540608616477279281853195566313817469497355478589189627649550204979246859107513235b-309 + x * (-439420220920635814586214935574679946204072083482674523109789601765718916704991809b-311 + x * (-468009060720422950370977235618689599561097108833058268913827599220755870449426295b-315 + x * (-3739077119919913294750192472007104569820618708197803907725629332704076068719295703b-322 + x * (-3514943933746426633390643217415002305637086338940264554241886448080254523542173265b-326 + x * (-3121059047879984256463610608157531597037330470020568347331973617204048749182934027b-330 + x * (-1312864579354111113262887940181808301155092005746585944813912861708582761491319641b-333 + x * (-2098749518855048435933859742742670915157652108930060387529476190902580900838616375b-338 + x * (-3195552184735422400133725426132014485645520463361323915420874124693907919094524053b-343 + x * (-1161174353415833860864692662949187722583547339054896423623857188819947376179950943b-346 + x * (-3228938344731937420734334058400932964515218194142091268051871251523584603041078219b-352 + x * (-2151302959832759124631216490489706786963489942946375656340323023788975847458739825b-356)))))))))))))))))))))))))))));
d=[-4893299745940809486040077668449425316537438754630519635933996919120902374669723385b-273;2695250614315944697239070405079945412534462960416900368955895306421692489413122311b-273];
points=24;
prec=175;
dirtyfindzeros(p,d);

/*********************************************************************************/
restart;
print("=============== Test number 31 ================");
points=8;
f = -30879717245370838070712349676119593593642999021581b-262 + x * (1602925418421145866385980186544493412434987593471b-254 + x * (-144948056238098910579201b-166 + x * (-1388389088155368481780539b-165 + x * (372930446538976826977091605b-169 + x * (7333084534724264674540922032302739059645825242835b-240 + x * (-94154913290208326181858262191b-170 + x * (-152168648655806210645752736485b-169 + x * (2992713756691814828898030219764943b-179 + x * (7864786055259407372240893441876605835537257488915b-232 + x * (-6237493281774519295840632997189523667b-185 + x * (5264288383950269840958432779126676591b-184 + x * (6453344754657534210994036765929996563355b-191 + x * (-6089947420748690786646030842592001600390475761005b-219 + x * (-2139151602838708708137808745068947971942145b-197 + x * (8850601420712161663364843707773604622727713b-196 + x * (-2419778405705671295420161430155309749637707589b-204 + x * (-3913767832602863851535634495388834967093390830155b-213 + x * (784340317346483980869004045703825518731284039053b-209 + x * (-6859726825402852929223039253369380154403233703215b-212 + x * (11081394390954533787967018784553174028016039913693b-214 + x^2 * (-24561358996401390906662829513814827282875378510003b-223 + x * (-17086162780105315413330664009610314631565480702611b-226 + x * (-22781550373473753884440885346147086175420640936815b-231 + x^2 * (35889703972980190734873025529930178836354978952767b-240 + x * (10633986362364500958480896453312645581142215986005b-242 + x * (1519140908909214422640128064758949368734602283715b-244 + x^2 * (-14304370489407223620997619662649785320314783802521b-256 + x * (-29531603591034268120769279303535040661295037527785b-261 + x * (-14765801795517134060384639651767520330647518763893b-265 + x^2 * (26952194364722897108438272733351053152554472752631b-275 + x * (3080250784539759669535802598097263217434796886015b-276 + x * (43808011157898804188953636950716632425739333489991b-285 + x^2 * (-15952846168452480615038593256590978522033100104463b-293 + x * (-6544757402442043329246602361678350162885374401831b-296))))))))))))))))))))))))))))))))));
dirtyfindzeros(f,[-1/4;1/2]);

/*********************************************************************************/
restart;
print("=============== Test number 32 ================");
L1=dirtyfindzeros(x^2*sin(1/x),[0;1]);
points=1000!;
L2=dirtyfindzeros(x^2*sin(1/x),[0;1]);
length(L1); length(L2);

/*********************************************************************************/
restart;
print("=============== Test number 33 ================");
prec=175!;
points=72!;
d=[-1/4;1/4];
q= -9218359857239378053149166583414477383319548700448408553592614065149393107991574094431779300909386394607724189300652164116661978352015199072381966773909782438444550115978733458953108338817245522910437621b-747 + x * (-4918945581850403406186365246730251739531892020830917620356470726738192033495929931205b-325 + x * (-280736214993231305175183134111309934939054691730352833297755584396641782537401123811229b-323 + x * (-3296794439148309983785257966527617622126569684362773368016441937091041142082807278547641356788607659b-360 + x * (-1162815620496786429742938279084772339215067215118977341562864870861668735850030387236811817383275179b-353 + x * (-1008541912689173056903175399302104307006639210660465294545137759381337242490809077257293229781348079b-348 + x * (-2342913806489465941429371682485389038775917098603823839631204684807467024475578205433216649559568839b-345 + x * (-3845503555651277193086598769066174969324632164736960479656500661911447287579321920589602471937980643b-342 + x * (-577388972082389265291281910620877528441488726209642544260999332316920744567964515411193102000402419b-336 + x * (-519219181883197970470878489090701126949156069237610094611622947494413702365023482664291543865804873b-333 + x * (-2833359990866141307959291185985539134181537071084158331012832327708969383520113454051058610804395489b-333 + x * (-2945185149312769605397704065992698709602457770414444045223857485639187743533141939697575628713244193b-331 + x * (-1160468705007854401734543272536512039790059278102973696577338293528508320591522206996381660982531121b-328 + x * (-2723447513989440327784471543923582516019769993810371302136778008007642879840422786007059761302054621b-328 + x * (-570584550655303616960095423606880840241523063309212080829789158981209868316415767065068498275244243b-325 + x * (-2471253493541736589990015790002930883291119152102682986179125591155169242944859296371005415159337601b-327 + x * (-2392736186293296342257968331718144679176384826805684359679444147838260255459545951974398227442622079b-328 + x * (609643702336915022892676446979464315541801774685703048044330521476797219277029459405194253086689979b-327 + x * (3231097593498066092130647891005502845743365718576424144385833584357950035247553737581486666711443263b-329 + x * (-2616929422912460208671159862929181361563168014320722181061325647954659236057543538176422702212765551b-329 + x * (-1086487167545885239762353531760289115589103541139412690935586322082743117281008925919085965653794949b-327 + x * (1153825455878837467942846302880561850626910163556219817718535312940642431171044830413067264936560961b-329 + x * (426190615910837958652435841808042265057578969751017988354235596856555790286394949735695426638795801b-326 + x * (-3049261258248492512553957727488457032717889068046361580110964834482321516378120619338953799867457085b-331 + x * (-586261917347835885602204268267128317301691595415261615087931507852755272136513833664941669345299455b-327 + x * (557404050939006934986049431419816775556256361324564754562880001875773387045401098578530387413592223b-329 + x * (1387792776779230471943447791424857914519796928841252577718784103138982912056821653821032532984716727b-329 + x * (-3285995967957263591382748517270098492767877788997345843579947925264244169977616724843010359331969369b-332 + x * (-2893733837361007965265880750279330910788837913921452587000653264181468595447220905672781622950041213b-331 + x * (2199755241022371297558315217874257721807914029642563602999313936664508235707383402095170887612052351b-332 + x * (1341716602486466713792361354627466135493950524298879098494972829279985925927125951673813790414661531b-331 + x * (-2618762158988042172639597959959233154121151634038714713650241708720138932317777436297331043107894569b-333 + x * (-2222628791105864876742284319851745692732772143298609730741825215152369549318866089775799001868289055b-333 + x * (1394252569291750341939137699870781790569095818186015349376261485403297214984487021889254669548510317b-333 + x * (1639933449461612644715031920116769872569878983758303565286275554365180610123210270899340090394758633b-334 + x * (-2686057470023396416882760325090034443069344463883329368721499542644237388965710943335487207802554807b-335 + x * (-4248031130778005062883783455569307697104170780174332854998143813334933628573225956680251203811974769b-337 + x * (1182918772047457832161326831475275004541615944168604737874353936451448673730065881982623690307880759b-335 + x * (1155942155199347992714554253750644756926549142439146462958050288530938493284793615956292869693993481b-337 + x * (-3843970797311274539703466942415513626343815100833181510828503241149349525263807555842211835887304945b-338 + x * (-911896617945003768467549496971757071792384511583649215671089976857370126562063072959032092688041765b-339 + x * (2899153875447292358555647058674865557982018754475514975431680646518577945787343771760767453586380373b-339 + x * (2814711995680979197123599172392312114997239503565632824186823439044755104186889295015107391523650727b-346 + x * (-4078068662294376287769630395391036045953560687435461579992166934989325356469416963310883551455800035b-341 + x * (1578093989360301650113165157647756083606175911087206489455403622990533896570996899941806640379305599b-343 + x * (670274776634839762718996133891259887713238683778474539521833015020547136895362189421392897901904115b-340 + x * (-4319276991183372496512264650033207768343638687536414370045488224752399433905265872744718416595562123b-345 + x * (-823910437157444415290569431881368027976363385359934647481458147660890954766469931007465699329136957b-342 + x * (2069930588992432394648381630714319993106283612167245241249177946697377775227910464866309506467164921b-345 + x * (471956936811187245496581795621972370251530022010989098340371078673016223669556054707117062221148627b-343 + x * (-1682144801681154037288113413880602875598325892042327333948090678520839713740738536970627274924722261b-346 + x * (-3999428992054846599226237581872104205444421412485465539254360461538783192239568417702429208288527227b-348 + x * (614426987676766313865592763161818760240370442461047379882461858639453374203432090754069797245993535b-346 + x * (1924281412982230934592123665752061076486907029124263508746995295869043166996273560145191699834020075b-349 + x * (-828221707009915071892889554884240633428190641459446811664259375137324321171016305265421983147628791b-348 + x * (-3228859555947787361261301546703259141951112730680872932487743821293715337493903582977099568017411617b-352 + x * (2088399455699548526173998278568807469735959977808714960654457704286587767096744447139202052956622891b-351 + x * (4180181285584806296773300952793969462002402079745687195409223730823971765973558485858389778959828347b-355 + x * (-2481907107341039122200669115276819951315877544533462699078887554357896026632162111609352376691377825b-353 + x * (-881049855457576526204607872590866998927428796875075523974303014990268119597795987642082333399947437b-357 + x * 2792182385824577983264051229631298430934776956763131548378368724335093098253842026336792725034277253b-355)))))))))))))))))))))))))))))))))))))))))))))))))))))))))));
dirtyfindzeros(q,d);

/*********************************************************************************/
restart;
print("=============== Test number 34 ================");
dirtyinfnorm(sin(x),[-10;10]);

/*********************************************************************************/
restart;
print("=============== Test number 35 ================");
prec=15!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);
prec=40!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);
prec=100!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);
prec=200!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);

/*********************************************************************************/
restart;
print("=============== Test number 36 ================");
dirtyinfnorm(x^2, [log(0);log(1)]);

/*********************************************************************************/
restart;
print("=============== Test number 37 ================");
sin(10);
dirtyintegral(cos(x),[0;10]);
points=2000!;
dirtyintegral(cos(x),[0;10]);

/*********************************************************************************/
restart;
print("=============== Test number 38 ================");
display = decimal;
a = evaluate(sin(pi * x), 0.25);
a;
display = binary;
a;
display = hexadecimal;
a;
display = dyadic;
a;
display = powers;
a;

/*********************************************************************************/
restart;
print("=============== Test number 39 ================");
5 / 2;

/*********************************************************************************/
restart;
print("=============== Test number 40 ================");
x / 2;

/*********************************************************************************/
restart;
print("=============== Test number 41 ================");
x / x;

/*********************************************************************************/
restart;
print("=============== Test number 42 ================");
3 / 0;

/*********************************************************************************/
restart;
print("=============== Test number 43 ================");
diff(sin(x) / exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 44 ================");
verbosity=1!;
a = 1+ 2^(-100);
DD(a);
prec=50!;
DD(a);

/*********************************************************************************/
restart;
print("=============== Test number 45 ================");
display=binary!;
DE(0.1);
round(0.1,64,RN);

/*********************************************************************************/
restart;
print("=============== Test number 46 ================");
D(2^(-2000));
DE(2^(-2000));

/*********************************************************************************/
restart;
print("=============== Test number 47 ================");
verbosity=1!;
f = sin(DE(x));
f(pi);
g = sin(round(x,64,RN));

/*********************************************************************************/
restart;
print("=============== Test number 48 ================");
display=binary!;
D(0.1);
D(4.17);
D(1.011_2 * 2^(-1073));

/*********************************************************************************/
restart;
print("=============== Test number 49 ================");
"Hello" == "Hello";
"Hello" == "Salut";
"Hello" == 5;
5 + x == 5 + x;

/*********************************************************************************/
restart;
print("=============== Test number 50 ================");
1 == exp(0);
asin(1) * 2 == pi;
exp(5) == log(4);

/*********************************************************************************/
restart;
print("=============== Test number 51 ================");
prec = 12;
16384 == 16385;

/*********************************************************************************/
restart;
print("=============== Test number 52 ================");
error == error;

/*********************************************************************************/
restart;
print("=============== Test number 53 ================");
print(5 + "foo");

/*********************************************************************************/
restart;
print("=============== Test number 54 ================");
error;

/*********************************************************************************/
restart;
print("=============== Test number 55 ================");
error == error;
error != error;

/*********************************************************************************/
restart;
print("=============== Test number 56 ================");
correct = 5 + 6;
incorrect = 5 + "foo";
correct == correct;
incorrect == correct;


/*********************************************************************************/
restart;
print("=============== Test number 57 ================");
print(evaluate(sin(pi * x), 2.25));

/*********************************************************************************/
restart;
print("=============== Test number 58 ================");
print(evaluate(sin(pi * x), 2));

/*********************************************************************************/
restart;
print("=============== Test number 59 ================");
print(evaluate(sin(pi * x), [2, 2.25]));

/*********************************************************************************/
restart;
print("=============== Test number 60 ================");
print(evaluate(sin(pi * x), 2 + 0.25 * x));

/*********************************************************************************/
restart;
print("=============== Test number 61 ================");
print(evaluate(sin(pi * 1/x), 0));

/*********************************************************************************/
restart;
print("=============== Test number 62 ================");
print(expand(x^3));

/*********************************************************************************/
restart;
print("=============== Test number 63 ================");
print(expand((x + 2)^3 + 2 * x));

/*********************************************************************************/
restart;
print("=============== Test number 64 ================");
print(expand(exp((x + (x + 3))^5)));

/*********************************************************************************/
restart;
print("=============== Test number 65 ================");
a=round(Pi,20,RN);
e=exponent(a);
e;
m=mantissa(a);
a-m*2^e;

/*********************************************************************************/
restart;
print("=============== Test number 66 ================");
true && false;
2<1;

/*********************************************************************************/
restart;
print("=============== Test number 67 ================");
findzeros(sin(x),[-5;5]);
diam=1e-10!;
findzeros(sin(x),[-5;5]);

/*********************************************************************************/
restart;
print("=============== Test number 68 ================");
autosimplify = off!;
fullparentheses = off;
print(1 + 2 + 3);
fullparentheses = on;
print(1 + 2 + 3);

/*********************************************************************************/
restart;
print("=============== Test number 69 ================");
5 >= 4;
5 >= 5;
5 >= 6;
exp(2) >= exp(1);
log(1) >= exp(2);

/*********************************************************************************/
restart;
print("=============== Test number 70 ================");
prec = 12;
16384 >= 16385;

/*********************************************************************************/
restart;
print("=============== Test number 71 ================");
5 > 4;
5 > 5;
5 > 6;
exp(2) > exp(1);
log(1) > exp(2);

/*********************************************************************************/
restart;
print("=============== Test number 72 ================");
prec = 12;
16384 > 16385;

/*********************************************************************************/
restart;
print("=============== Test number 73 ================");
guessdegree(exp(x),[-1;1],1e-10);


/*********************************************************************************/
restart;
print("=============== Test number 74 ================");
guessdegree(1, [-1;1], 1e-8, 1/exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 75 ================");
head([|1,2,3|]);
head([|1,2...|]);

/*********************************************************************************/
restart;
print("=============== Test number 76 ================");
verbosity = 1!;
q = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c");
printexpansion(q);
r = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c",honorcoeffprec);
printexpansion(r);


/*********************************************************************************/
restart;
print("=============== Test number 77 ================");
hopitalrecursions=0;
evaluate(log(1+x)^2/x^2,[-1/2; 1]);
hopitalrecursions=1;
evaluate(log(1+x)^2/x^2,[-1/2; 1]);
/*********************************************************************************/
restart;
print("=============== Test number 78 ================");
print(horner(1 + 2 * x + 3 * x^2));
print(horner((x + 1)^7));

/*********************************************************************************/
restart;
print("=============== Test number 79 ================");
print(horner(exp((x + 1)^5) - log(asin(x + x^3) + x)));

/*********************************************************************************/
restart;
print("=============== Test number 80 ================");
verbosity = 1!;
q = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c");
printexpansion(q);
r = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c",honorcoeffprec);
printexpansion(r);

/*********************************************************************************/
restart;
print("=============== Test number 81 ================");
p = 0x3ff0000000000000 + x * (0x3ff0000000000000 + x * (0x3fe0000000000000 + x * (0x3fc5555555555559 + x * (0x3fa55555555555bd + x * (0x3f811111111106e2 + x * (0x3f56c16c16bf5eb7 + x * (0x3f2a01a01a292dcd + x * (0x3efa01a0218a016a + x * (0x3ec71de360331aad + x * (0x3e927e42e3823bf3 + x * (0x3e5ae6b2710c2c9a + x * (0x3e2203730c0a7c1d + x * 0x3de5da557e0781df))))))))))));
q = implementpoly(p,[-1/2;1/2],1b-60,D,"p","implementation.c",honorcoeffprec,"implementation.gappa");
if (q != p) then print("During implementation, rounding has happened.") else print("Polynomial implemented as given.");	

/*********************************************************************************/
restart;
print("=============== Test number 82 ================");
infnorm(exp(x),[-2;3]);

/*********************************************************************************/
restart;
print("=============== Test number 83 ================");
infnorm(exp(x),[-2;3],[| [0;1], [2;2.5] |]);

/*********************************************************************************/
restart;
print("=============== Test number 84 ================");
infnorm(exp(x),[-2;3],"proof.txt", [| [0;1], [2;2.5] |]);

/*********************************************************************************/
restart;
print("=============== Test number 85 ================");
infnorm(exp(x),[1;1]);

/*********************************************************************************/
restart;
print("=============== Test number 86 ================");
infnorm(exp(x), [log(0);log(1)]);


/*********************************************************************************/
restart;
print("=============== Test number 87 ================");
inf([1;3]);
inf(0);

/*********************************************************************************/
restart;
print("=============== Test number 88 ================");
display=binary!;
I=[0.111110000011111_2; 1];
inf(I);
prec=12!;
inf(I);

/*********************************************************************************/
restart;
print("=============== Test number 89 ================");
sin(10);
integral(cos(x),[0;10]);
diam=1e-5!;
integral(cos(x),[0;10]);

/*********************************************************************************/
restart;
print("=============== Test number 90 ================");
isbound(x);
isbound(f);
isbound(g);
f=sin(x);
isbound(x);
isbound(f);
isbound(g);

/*********************************************************************************/
restart;
print("=============== Test number 91 ================");
isbound(a);
{ var a; isbound(a); };
isbound(a);

/*********************************************************************************/
restart;
print("=============== Test number 92 ================");
f=sin(x);
isbound(x);
rename(x,y);
isbound(x);

/*********************************************************************************/
restart;
print("=============== Test number 93 ================");
x=1;
f=sin(y);
rename(y,x);
f;
x;
isbound(x);
rename(x,y);
isbound(x);
x;

/*********************************************************************************/
restart;
print("=============== Test number 94 ================");
isevaluable(sin(pi * 1/x), 0.75);
print(evaluate(sin(pi * 1/x), 0.75));

/*********************************************************************************/
restart;
print("=============== Test number 95 ================");
isevaluable(sin(pi * 1/x), 0.5);
print(evaluate(sin(pi * 1/x), 0.5));


/*********************************************************************************/
restart;
print("=============== Test number 96 ================");
isevaluable(sin(pi * 1/x), 0);
print(evaluate(sin(pi * 1/x), 0));

/*********************************************************************************/
restart;
print("=============== Test number 97 ================");
length("Hello World!");

/*********************************************************************************/
restart;
print("=============== Test number 98 ================");
length([|1,...,5|]);

/*********************************************************************************/
restart;
print("=============== Test number 99 ================");
length([|Â |]);

/*********************************************************************************/
restart;
print("=============== Test number 100 ================");
length([|1,2...|]);
/*********************************************************************************/
restart;
print("=============== Test number 101 ================");
5 <= 4;
5 <= 5;
5 <= 6;
exp(2) <= exp(1);
log(1) <= exp(2);

/*********************************************************************************/
restart;
print("=============== Test number 102 ================");
prec = 12;
16385 <= 16384;

/*********************************************************************************/
restart;
print("=============== Test number 103 ================");
5 < 4;
5 < 5;
5 < 6;
exp(2) < exp(1);
log(1) < exp(2);

/*********************************************************************************/
restart;
print("=============== Test number 104 ================");
prec = 12;
16384 < 16385;

/*********************************************************************************/
restart;
print("=============== Test number 105 ================");
a=round(Pi,20,RN);
e=exponent(a);
m=mantissa(a);
m;
a-m*2^e;

/*********************************************************************************/
restart;
print("=============== Test number 106 ================");
a = round(Pi,30,RD);
b = round(Pi,30,RU);
d = [a,b];
d;
midpointmode=on!;
d;

/*********************************************************************************/
restart;
print("=============== Test number 107 ================");
mid([1;3]);
mid(17);

/*********************************************************************************/
restart;
print("=============== Test number 108 ================");
5 - 2;

/*********************************************************************************/
restart;
print("=============== Test number 109 ================");
x - 2;

/*********************************************************************************/
restart;
print("=============== Test number 110 ================");
x - x;

/*********************************************************************************/
restart;
print("=============== Test number 111 ================");
diff(sin(x) - exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 112 ================");
5 * 2;

/*********************************************************************************/
restart;
print("=============== Test number 113 ================");
x * 2;

/*********************************************************************************/
restart;
print("=============== Test number 114 ================");
x * x;

/*********************************************************************************/
restart;
print("=============== Test number 115 ================");
diff(sin(x) * exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 116 ================");
"Hello" != "Hello";
"Hello" != "Salut";
"Hello" != 5;
5 + x != 5 + x;

/*********************************************************************************/
restart;
print("=============== Test number 117 ================");
1 != exp(0);
asin(1) * 2 != pi;
exp(5) != log(4);

/*********************************************************************************/
restart;
print("=============== Test number 118 ================");
prec = 12;
16384 != 16385;

/*********************************************************************************/
restart;
print("=============== Test number 119 ================");
error != error;

/*********************************************************************************/
restart;
print("=============== Test number 120 ================");
nop;

/*********************************************************************************/
restart;
print("=============== Test number 121 ================");
succ = proc(n) { return n + 1; };
succ;
succ(5);

/*********************************************************************************/
restart;
print("=============== Test number 122 ================");
! false;

/*********************************************************************************/
restart;
print("=============== Test number 123 ================");
! (1 == exp(0));

/*********************************************************************************/
restart;
print("=============== Test number 124 ================");
numerator(5/3);

/*********************************************************************************/
restart;
print("=============== Test number 125 ================");
numerator(exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 126 ================");
a = 5/3;
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
print("=============== Test number 127 ================");
a = exp(x/3);
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
print("=============== Test number 128 ================");
canonical=on;
p=1+x+x^2;
mode=off;
p;
canonical=mode;
p;

/*********************************************************************************/
restart;
print("=============== Test number 129 ================");
p=1+x+x^2;
mode=on;
p;
canonical=mode;
p;

/*********************************************************************************/
restart;
print("=============== Test number 130 ================");
false || false;

/*********************************************************************************/
restart;
print("=============== Test number 131 ================");
(1 == exp(0)) || (0 == log(1));

/*********************************************************************************/
restart;
print("=============== Test number 132 ================");
parse("exp(x)");

/*********************************************************************************/
restart;
print("=============== Test number 133 ================");
verbosity=1!; prec=12!;
a = 2*pi;
a;
prec=20!;
a;

/*********************************************************************************/
restart;
print("=============== Test number 134 ================");
prec=12!;
d = [pi; 5];
d;
prec=20!;
d;

/*********************************************************************************/
restart;
print("=============== Test number 135 ================");
1 + 2;

/*********************************************************************************/
restart;
print("=============== Test number 136 ================");
x + 2;

/*********************************************************************************/
restart;
print("=============== Test number 137 ================");
x + x;

/*********************************************************************************/
restart;
print("=============== Test number 138 ================");
diff(sin(x) + exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 139 ================");
f=x^2*sin(1/x);
points=10;
dirtyfindzeros(f, [0;1]);
points=100;
dirtyfindzeros(f, [0;1]);


/*********************************************************************************/
restart;
print("=============== Test number 140 ================");
5 ^ 2;

/*********************************************************************************/
restart;
print("=============== Test number 141 ================");
x ^ 2;

/*********************************************************************************/
restart;
print("=============== Test number 142 ================");
3 ^ (-5);

/*********************************************************************************/
restart;
print("=============== Test number 143 ================");
(-3) ^ (-2.5);


/*********************************************************************************/
restart;
print("=============== Test number 144 ================");
diff(sin(x) ^ exp(x));

/*********************************************************************************/
restart;
print("=============== Test number 145 ================");
a=round(Pi,20,RN);
precision(a);
m=mantissa(a);
ceil(log2(m));

/*********************************************************************************/
restart;
print("=============== Test number 146 ================");
display=binary!;
prec=50;
dirtyinfnorm(exp(x),[1;2]);
prec=100;
dirtyinfnorm(exp(x),[1;2]);

/*********************************************************************************/
restart;
print("=============== Test number 147 ================");
1.:[|2,3,4|];

/*********************************************************************************/
restart;
print("=============== Test number 148 ================");
[|1,2,3|].:[|4,5,6|];

/*********************************************************************************/
restart;
print("=============== Test number 149 ================");
1.:[||];

/*********************************************************************************/
restart;
print("=============== Test number 150 ================");
printexpansion(roundcoefficients(taylor(exp(x),5,0),[|DD...|]));

/*********************************************************************************/
restart;
print("=============== Test number 151 ================");
printexpansion(remez(exp(x),5,[-1;1]));

/*********************************************************************************/
restart;
print("=============== Test number 152 ================");
verbosity = 1!;
prec = 3500!;
printexpansion(pi);

/*********************************************************************************/
restart;
print("=============== Test number 153 ================");
printfloat(3);

/*********************************************************************************/
restart;
print("=============== Test number 154 ================");
prec=100!;
verbosity = 1!;
printfloat(exp(5));

/*********************************************************************************/
restart;
print("=============== Test number 155 ================");
printhexa(3);

/*********************************************************************************/
restart;
print("=============== Test number 156 ================");
prec=100!;
verbosity = 1!;
printhexa(exp(5));

/*********************************************************************************/
restart;
print("=============== Test number 157 ================");
print(x + 2 + exp(sin(x))); 
print("Hello","world");
print("Hello","you", 4 + 3, "other persons.");

/*********************************************************************************/
restart;
print("=============== Test number 158 ================");
print("Hello");
print([|"Hello"|]);
s = "Hello";
print(s,[|s|]);
t = "Hello\tyou";
print(t,[|t|]);

/*********************************************************************************/
restart;
print("=============== Test number 159 ================");
display = decimal;
a = evaluate(sin(pi * x), 0.25);
b = evaluate(sin(pi * x), [0.25; 0.25 + 1b-50]);
print(a);
display = binary;
print(a);
display = hexadecimal;
print(a);
display = dyadic;
print(a);
display = powers;
print(a);
display = decimal;
midpointmode = off;
print(b);
midpointmode = on;
print(b);
display = dyadic;
print(b);
display = decimal;
autosimplify = off;
fullparentheses = off;
print(x + x * ((x + 1) + 1));
fullparentheses = on;
print(x + x * ((x + 1) + 1));

/*********************************************************************************/
restart;
print("=============== Test number 160 ================");
printxml(x + 2 + exp(sin(x)));

/*********************************************************************************/
restart;
print("=============== Test number 161 ================");
procedure succ(n) { return n + 1; };
succ(5);
3 + succ(0);
succ;

/*********************************************************************************/
restart;
print("=============== Test number 162 ================");
succ = proc(n) { return n + 1; };
succ(5);
3 + succ(0);
succ;

/*********************************************************************************/
restart;
print("=============== Test number 163 ================");
add = proc(m,n) { var res; res := m + n; return res; };
add(5,6);
add;
verbosity = 1!;
add(3);
add(true,false);


/*********************************************************************************/
restart;
print("=============== Test number 164 ================");
succ = proc(n) { return n + 1; };
succ(5);
succ(x);

/*********************************************************************************/
restart;
print("=============== Test number 165 ================");
hey = proc() { print("Hello world."); };
hey();
print(hey());
hey;


/*********************************************************************************/
restart;
print("=============== Test number 166 ================");
fac = proc(n) { var res; if (n == 0) then res := 1 else res := n * fac(n - 1); return res; };
fac(5);
fac(11);
fac;

/*********************************************************************************/
restart;
print("=============== Test number 167 ================");
myprocs = [| proc(m,n) { return m + n; }, proc(m,n) { return m - n; } |];
(myprocs[0])(5,6);
(myprocs[1])(5,6);
succ = proc(n) { return n + 1; };
pred = proc(n) { return n - 1; };
applier = proc(p,n) { return p(n); };
applier(succ,5);
applier(pred,5);

/*********************************************************************************/
restart;
print("=============== Test number 168 ================");
verbosity = 1!;
myquit = proc(n) { print(n); quit; };
myquit;
myquit(5);

/*********************************************************************************/
restart;
print("=============== Test number 169 ================");
printsucc = proc(n) { var succ; succ = proc(n) { return n + 1; }; print("Successor of",n,"is",succ(n)); };
printsucc(5);

/*********************************************************************************/
restart;
print("=============== Test number 170 ================");
makeadd = proc(n) { var add; print("n =",n); add = proc(m,n) { return n + m; }; return add; };
makeadd(4);
(makeadd(4))(5,6);

/*********************************************************************************/
/* restart; */
/* print("=============== Test number 171 ================"); */
/* quit; */

/*********************************************************************************/
restart;
print("=============== Test number 172 ================");
pi10 = rationalapprox(Pi,10);
pi50 = rationalapprox(Pi,50);
pi100 = rationalapprox(Pi,100);
print( pi10, ": ", simplify(floor(-log2(abs(pi10-Pi)/Pi))), "bits." );
print( pi50, ": ", simplify(floor(-log2(abs(pi50-Pi)/Pi))), "bits." );
print( pi100, ": ", simplify(floor(-log2(abs(pi100-Pi)/Pi))), "bits." );

/*********************************************************************************/
restart;
print("=============== Test number 173 ================");
a=0.1;
b=rationalapprox(a,4);
numerator(b); denominator(b);
print(simplify(floor(-log2(abs((b-a)/a)))), "bits.");

/*********************************************************************************/
restart;
print("=============== Test number 174 ================");
display=binary!;
round(Pi,20,RD);


/*********************************************************************************/
restart;
print("=============== Test number 175 ================");
verbosity=1!;
p = remez((2^x-1)/x, 9, [-1/16;1/16]);
p;

/*********************************************************************************/
restart;
print("=============== Test number 176 ================");
p = remez(exp(x),5,[0;1]);
degree(p);
dirtyinfnorm(p-exp(x),[0;1]);

/*********************************************************************************/
restart;
print("=============== Test number 177 ================");
p = remez(1,[|0,2,4,6,8|],[0,Pi/4],1/cos(x));
canonical=on!;
p;

/*********************************************************************************/
restart;
print("=============== Test number 178 ================");
p1 = remez(exp(x),5,[0;1],default,1e-5);
p2 = remez(exp(x),5,[0;1],default,1e-10);
p3 = remez(exp(x),5,[0;1],default,1e-15);
dirtyinfnorm(p1-exp(x),[0;1]);
dirtyinfnorm(p2-exp(x),[0;1]);
dirtyinfnorm(p3-exp(x),[0;1]);


/*********************************************************************************/
restart;
print("=============== Test number 179 ================");
f=sin(x);
f;
rename(x,y);
f;

/*********************************************************************************/
restart;
print("=============== Test number 180 ================");
a=1;
f=sin(x);
rename(x,a);
a;
f;

/*********************************************************************************/
restart;
print("=============== Test number 181 ================");
verbosity=1!;
f=sin(x);
rename(y,z);

/*********************************************************************************/
restart;
print("=============== Test number 182 ================");
rename(x,y);
isbound(x);
isbound(y);

/*********************************************************************************/
restart;
print("=============== Test number 183 ================");
print(exp(x));
a = 3;
restart;
print("=============== Test number 184 ================");
print(x);
a;

/*********************************************************************************/
restart;
print("=============== Test number 185 ================");
print(exp(x));
for i from 1 to 10 do {
	print(i);
	if (i == 5) then restart;
};

/*********************************************************************************/
restart;
print("=============== Test number 186 ================");
print(exp(x));
a = 3;
for i from 1 to 10 do {
	print(i);
	if (i == 5) then {
		restart;
		i = 7;
	};
};
print(x);
a;


/*********************************************************************************/
restart;
print("=============== Test number 187 ================");
succ = proc(n) { var res; res := n + 1; return res; };
succ(5);
succ;

/*********************************************************************************/
restart;
print("=============== Test number 188 ================");
hey = proc(s) { print("Hello",s); };
hey("world");
hey;

/*********************************************************************************/
restart;
print("=============== Test number 189 ================");
revert([| |]);

/*********************************************************************************/
restart;
print("=============== Test number 190 ================");
revert([|2,3,5,2,1,4|]);
/*********************************************************************************/
restart;
print("=============== Test number 191 ================");
display=binary!;
round(Pi,20,RN);


/*********************************************************************************/
restart;
print("=============== Test number 192 ================");
p=exp(1) + x*(exp(2) + x*exp(3));
display=binary!;
roundcoefficients(p,[|DD,D,D|]);
roundcoefficients(p,[|DD,D...|]);

/*********************************************************************************/
restart;
print("=============== Test number 193 ================");
f=sin(exp(1)*x);
display=binary!;
f;
roundcoefficients(f,[|D...|]);

/*********************************************************************************/
restart;
print("=============== Test number 194 ================");
p=exp(1) + x*(exp(2) + x*exp(3));
verbosity=1!;
display=binary!;
roundcoefficients(p,[|DD,D|]);


/*********************************************************************************/
restart;
print("=============== Test number 195 ================");
printbinary(roundcorrectly([1.010001_2; 1.0101_2]));
printbinary(roundcorrectly([1.00001_2; 1.001_2]));

/*********************************************************************************/
restart;
print("=============== Test number 196 ================");
roundcorrectly([-1; 1]);

/*********************************************************************************/
restart;
print("=============== Test number 197 ================");
display=binary!;
round(Pi,20,RN);

/*********************************************************************************/
restart;
print("=============== Test number 198 ================");
display=binary!;
a=2^(-1100);
round(a,53,RN);
double(a);

/*********************************************************************************/
restart;
print("=============== Test number 199 ================");
display=binary!;
round(Pi,20,RU);


/*********************************************************************************/
restart;
print("=============== Test number 200 ================");
display=binary!;
round(Pi,20,RZ);


/*********************************************************************************/
restart;
print("=============== Test number 201 ================");
searchgal(log(x),2,53,15,DD,1b-112);
searchgal(log(x),2,53,18,DD,1b-112);

/*********************************************************************************/
restart;
print("=============== Test number 202 ================");
f = exp(x);
s = searchgal(f,2,53,18,DD,1b-112);
if (s != [||]) then {
   v = s[0];
   print("The rounding error is 2^(",evaluate(log2(abs(DD(f)/f - 1)),v),")");
} else print("No value found");

/*********************************************************************************/
restart;
print("=============== Test number 203 ================");
searchgal([|sin(x),cos(x)|],1,53,15,[|D,D|],[|1b-62,1b-60|]);

/*********************************************************************************/
restart;
print("=============== Test number 204 ================");
print(simplifysafe((6 + 2) + (5 + exp(0)) * x));

/*********************************************************************************/
restart;
print("=============== Test number 205 ================");
print(simplifysafe((log(x - x + 1) + asin(1))));

/*********************************************************************************/
restart;
print("=============== Test number 206 ================");
print(simplifysafe((log(x - x + 1) + asin(1)) - (atan(1) * 2)));

/*********************************************************************************/
restart;
print("=============== Test number 207 ================");
print(simplify(sin(pi * x)));
print(simplify(erf(exp(3) + x * log(4))));

/*********************************************************************************/
restart;
print("=============== Test number 208 ================");
prec = 20!;
t = erf(0.5);
s = simplify(erf(0.5));
prec = 200!;
t;
s;

/*********************************************************************************/
restart;
print("=============== Test number 209 ================");
sort([| |]);
sort([|2,3,5,2,1,4|]);
/*********************************************************************************/
restart;
print("=============== Test number 210 ================");
p = taylor(exp(x),5,0);
s = subpoly(p,[|1,3,5|]);
print(p);
print(s);

/*********************************************************************************/
restart;
print("=============== Test number 211 ================");
p = remez(atan(x),10,[-1,1]);
subpoly(p,[|1,3,5...|]);

/*********************************************************************************/
restart;
print("=============== Test number 212 ================");
subpoly(exp(x),[|1,2,3|]);

/*********************************************************************************/
restart;
print("=============== Test number 213 ================");
f=sin(x);
g=cos(x);
substitute(f,g);
f(g);

/*********************************************************************************/
restart;
print("=============== Test number 214 ================");
a=1;
f=sin(x);
substitute(f,a);
/*********************************************************************************/
restart;
print("=============== Test number 215 ================");
sup([1;3]);
sup(5);

/*********************************************************************************/
restart;
print("=============== Test number 216 ================");
display=binary!;
I=[0; 0.111110000011111_2];
sup(I);
prec=12!;
sup(I);

/*********************************************************************************/
restart;
print("=============== Test number 217 ================");
tail([|1,2,3|]);
tail([|1,2...|]);

/*********************************************************************************/
restart;
print("=============== Test number 218 ================");
f=exp(x);
p=remez(f,3,[0;1]);
taylorrecursions=0;
evaluate(f-p, [0;1]);
taylorrecursions=1;
evaluate(f-p, [0;1]);
/*********************************************************************************/
restart;
print("=============== Test number 219 ================");
print(taylor(exp(x),5,0));

/*********************************************************************************/
restart;
print("=============== Test number 220 ================");
print(taylor(asin(x),7,0));

/*********************************************************************************/
restart;
print("=============== Test number 221 ================");
print(taylor(erf(x),6,0));

/*********************************************************************************/
restart;
print("=============== Test number 222 ================");
verbosity=1!;
p=remez(sin(x),10,[-1;1]);

/*********************************************************************************/
restart;
print("=============== Test number 223 ================");
verbosity=1!;
a = 1+ 2^(-55)+2^(-115);
TD(a);
prec=110!;
TD(a);

/*********************************************************************************/
restart;
print("=============== Test number 224 ================");
true && false;
2>1;

/*********************************************************************************/
restart;
print("=============== Test number 225 ================");
exp(x); 
a = 3; 
{var a, b; a=5; b=3; {var a; var b; b = true; a = 1; a; b;}; a; b; }; 
a;

/*********************************************************************************/
restart;
print("=============== Test number 226 ================");
verbosity=0!;
1.2+"toto";
verbosity=1!;
1.2+"toto";
verbosity=2!;
1.2+"toto";
/*********************************************************************************/
restart;
print("=============== Test number 227 ================");
print(void);
void;

/*********************************************************************************/
restart;
print("=============== Test number 228 ================");
hey = proc() { print("Hello world."); };
hey;
hey();
hey(void);
print(hey());

/*********************************************************************************/
restart; 
worstcase(exp(x),24,[1,2],24,1b-26);


/*********************************************************************************/
restart;
print("=============== Test number 229 ================");
write(x + 2 + exp(sin(x))); 
write("Hello\n");
write("Hello","world\n");
write("Hello","you", 4 + 3, "other persons.\n");

/*********************************************************************************/
restart;
print("=============== Test number 230 ================");
write("Hello","\n");
write([|"Hello"|],"\n");
s = "Hello";
write(s,[|s|],"\n");
t = "Hello\tyou";
write(t,[|t|],"\n");

/*********************************************************************************/
restart;
print("=============== Test number 231 ================");
write(x + 2 + exp(sin(x))) > "foo.sol";
readfile("foo.sol");

/*********************************************************************************/
restart;
print("=============== Test number 232 ================");
write(x + 2 + exp(sin(x))) >> "foo.sol";


/*********************************************************************************/
restart;
print("=============== Test number 233 ================");
P = fpminimax(cos(x),6,[|DD, DD, D...|],[-1b-5;1b-5]);
printexpansion(P);

P = fpminimax(sin(x),6,[|32...|],[-1b-5;1b-5], fixed, absolute);
display = powers!;
P;

P = fpminimax(exp(x), [|3,4|], [|D,24|], [-1/256; 1/246], 1+x+x^2/2);
display = powers!;
P;

f = cos(exp(x));
pstar = remez(f, 5, [-1b-7;1b-7]);
listpoints = dirtyfindzeros(f-pstar, [-1b-7; 1b-7]);
P1 = fpminimax(f, 5, [|DD...|], listpoints, absolute, default, default, pstar);
P2 = fpminimax(f, 5, [|D...|], listpoints, absolute, default, default, pstar);
P3 = fpminimax(f, 5, [|D, D, D, 24...|], listpoints, absolute, default, default, pstar);
print("Error of pstar: ", dirtyinfnorm(f-pstar, [-1b-7; 1b-7]));
print("Error of P1:    ", dirtyinfnorm(f-P1, [-1b-7; 1b-7]));
print("Error of P2:    ", dirtyinfnorm(f-P2, [-1b-7; 1b-7]));
print("Error of P3:    ", dirtyinfnorm(f-P3, [-1b-7; 1b-7]));

/*********************************************************************************/
restart;
print("=============== Test number 234 ================");
autosimplify=off!;
1+1;
1-+2;
-3--4;
5+-8;
3*6;
4*-5;
4/-3;
2-5^3;
2+-3/4;
4/-5-+6;
3*5/45;
3/4/6;
2*6+5*5;
5+3/6;
5-+5*+5;
24+2;
-4-9*4;
32/48*3;
5+-4*-4*64-34^2/-2*5-7+8*3*4--5;

3*sin(3)+5--cos(7);
-exp(24*sin(1)/2);

(2-5)^3;
2^(-53);
2^((-5)^4);
2^(-54);
(2+-3)/4;
2+(-3)/4;
2+-(3/4);
2+-(-3)/4;
2+(-3/4);
(4/-5)-+6;
4/(-5-+6);
4/-5-(+6);
(4/-5)-(+6);
3*(5/45);
(3*5)/45;
((3*5)/4)/5;
3*5/(45);
3*(5/4)^5;
(3/4)/6;
3/(4/6);
2*(6+5*5);
(2*6)+5*5;
2*(6+5)*5;
2*6+(5*5);
(2*(6+5))*5;
(2*6+5)*5;
((2*6)+5)*5;
(5+3)/6;
5+(3/6);
5-(+5*+5);
(5-+5)*+5;
5-+(5*+5);
(24)+2;
2^(4+2);
-(4-10)*4;
(-4)-10*4;
(-4-10)*4;
(-4)^(-10)*4;
-4^-(10*4);
-(4-10)*4;
-(4^-(10*4));
(-4)^(-10)*4;
-(4^-(10*4));
(32)/4^(8*3);
3^(2/48)*3;
(32/4)^(8*3);
3^(2/(48))*3;
3^(2/4^(8*3));
((32)/4)^8*3;
3^(2/48)*3;
(32/(48))*3;
32/4^(8*3);
3^(2/48*3);
5+-4*-4*64-34^2/-2*5-7+8*3*4--5;
5+-4*(-4*6^(4-3)^4)^2/-2*5-7+8*3*4--5;
(5+-4)*-(4*6^(4-3)^4^2/-2*5-7+8*3*4)--5;
5+-(4*(-4)*64-(34^2)/(-2*5-7)+8*3*4)--5;
(5+-(4*-4*(64-3^(42/-2*5)-7)+8*3))*4--5;
5+-(4*-4)*(64-34^2/-2*5-7+8)*3*4--5;
5+(-4*-4)*(64-(34)^2/-2*5)-7+8*3*4--5;
(5+-4)*-(4*64-(34^2/-2*5-7)+8*3)*4--5;

/*********************************************************************************/
restart;
print("=============== Test number 235 ================");
Q5 = 5750871b-37 * x^6 + 13462391b-39 * x^5 - 7528339b-32 * x^4 + 14577171b-41 * x^3 + 5814467b-26 * x^2 - 8388607b-24* x + 1;
L1 = 11512405b-38 * x^6 + 13401955b-39 * x^5 - 470491b-28 * x^4 + 7234989b-40 * x^3 + 11628935b-27 * x^2 - 8388607b-24* x + 1 - (2878101b-36 * x^6 + 6700979b-38 * x^5 - 470491b-28 * x^4 + 7234987b-40 * x^3 + 11628935b-27 * x^2 - 8388607b-24* x + 1);
f = log2(1 + 2^(x * (-1)));
dirtyinfnorm((Q5+L1)-f,[0;1]);

/*********************************************************************************/
restart;
print("=============== Test number 236 ================");
n=5;
evaluate(x^(n-1),[-1;1]);


/*********************************************************************************/
restart;
print("=============== Test number 237 ================");
0/0;
evaluate(0/0, 5);
evaluate(0/0, 0);
evaluate(0/0, [0]);
evaluate(0/0, [5]);
evaluate(x/0, 0);
evaluate(x/0, [0]);
evaluate(x/x, 0);
evaluate(x/x, [0]);
evaluate(0/x, 0);
evaluate(0/x, [0]);
[0]/0;
[0]/[0];
0/[0];
[0/0];
f=x/0;
f(0);
f([0]);
g=x/x;
print(g);
h=0/x;
print(h);


/*********************************************************************************/
restart;
print("=============== Test number 238 ================");
f = (x^2 * (1 + x * (1 + x * (4503599627370499b-54 + x * (-3752999689475461b-53 + x * (-5329259559057319b-53 + x * (-1788929851961367b-52 + x * (-8882099256210257b-56 + x * (7312987743051867b-57 + x * (7211277638711261b-56 + x * (2786461313115475b-55 + x * (1352843919470941b-55 + x * (5069832394710785b-59 + x * (-4873555530492657b-60 + x * (-3495525007749119b-59))))))))))))))) / sin(expm1(x))^2 - 1;
I = [-1b-3;5196450266065432598057546071880117403221093486137b-165];                 
X = -41166165720757628181777558633249450796232650243605b-170;                       
(inf(I) <= X) && (X <= sup(I));
dirtyinfnorm(f,I);                                                                  
f(X);                                                                               

/*********************************************************************************/
restart;
print("=============== Test number 239 ================");

numberroots(0.25*x^3 - x^2 + 1,[2;7]);
numberroots(0.25*x^3 - x^2 + 1,[1;7]);
numberroots(0.25*x^3 - x^2 + 1,[-5;7]);
numberroots(exp(1)*x-18,[2;7]);
numberroots(exp(x),[2;7]);

restart;
print("=============== Test number 240 ================");

autodiff(sin(x),5,17);
autodiff(sin(x),5,[17]);
autodiff(x^x,5,17);
autodiff(2^x,5,17);
autodiff(x^18,5,17);
autodiff(x^0,5,17);
autodiff(x^2,5,17);
autodiff(1^x,5,17);
autodiff(exp(sin(x))^log2(1 + sin(x)^2) * erf(x),80,[1;2]);
autodiff(exp(sin(x))^log2(1 + sin(x)^2) * erf(x),80,1);
autodiff(exp(sin(x))^log2(1 + sin(x)^2) * erf(x),80,[1]);

restart;
print("=============== Test number 241 ================");

taylorform(exp(x),5,0);
taylorform(sin(x),17,0);
taylorform(sin(exp(x)) + 2 - x,7,0);
taylorform(sin(exp(x)) + 2 - x,7,[-1;1]);
taylorform(sin(exp(x)) + 2 - x,7,0,[-1;1]);
taylorform(sin(exp(x)) + 2 - x,7,[-1;1],[-1;1]);
taylorform(sin(exp(x)) + 2 - x,7,[-1;1],[-1;1],absolute);
taylorform(sin(exp(x)) + 2 - x,7,[-1;1],[-1;1],relative);
taylorform(sin(exp(x)) + 2 - x,7,0,[-1b-8;1b-7]);
taylorform(sin(exp(x)) + 2 - x,7,0,[-1b-8;1b-7],absolute);
taylorform(sin(exp(x)) + 2 - x,7,0,[-1b-8;1b-7],relative);
taylorform(sin(x)^4 + x^5 * exp(17 * x),7,0,[-1b-8;1b-7],relative);
taylorform(2^x,7,0,[-1b-8;1b-7],relative);
taylorform(x^17,7,0,[-1b-8;1b-7],relative);
taylorform(x^5,7,0,[-1b-8;1b-7],relative);
taylorform(1 + 2 * x + 3 * x^2 + 4 * x^3,7,0,[-1b-8;1b-7],relative);
taylorform(2 * x + 3 * x^2 + 4 * x^3,7,0,[-1b-8;1b-7],relative);
taylorform(exp(sin(x))^log2(1 + sin(x)^2) * erf(x),7,0,[-1b-8;1b-7],relative);
taylorform(exp(sin(x))^log2(1 + sin(x)^2) * erf(x),7,0,[-1b-8;1b-7]);

restart;
print("=============== Test number 242 ================");

5 in [-1;17];
5 in [5;17];
5 in [-1;5];
5 in [-1;4];
5 in [6;17];

5 in [-4;7];
4 in [-1;1];
0 in sin([-17;17]);

[5;7] in [2;8];
[2;3] in [4;5];
[2;3] in [2.5;5];

restart;
print("=============== Test number 243 ================");

nearestint(exp(17));
nearestint(2.5);
nearestint(3.5);
nearestint(-exp(17));
nearestint(-2.5);
nearestint(-3.5);

restart;
print("=============== Test number 243 ================");


SG(exp(5));
SG(1b-170);
round(1b-170,SG,RN);
round(1b-170,SG,RD);
round(1b-170,SG,RU);
round(1b-170,SG,RZ);

restart;
print("=============== Test number 244 ================");



succ = proc(n) { return n + 1; };
succ(5);
3 + succ(0);
succ;


add = proc(m,n) { var res; res := m + n; return res; };
add(5,6);
add;
verbosity = 1!;
add(3);
add(true,false);



succ = proc(n) { return n + 1; };
succ(5);
succ(x);


hey = proc() { print("Hello world."); };
hey();
print(hey());
hey;



fac = proc(n) { var res; if (n == 0) then res := 1 else res := n * fac(n - 1); return res; };
fac(5);
fac(11);
fac;


myprocs = [| proc(m,n) { return m + n; }, proc(m,n) { return m - n; } |];
(myprocs[0])(5,6);
(myprocs[1])(5,6);
succ = proc(n) { return n + 1; };
pred = proc(n) { return n - 1; };
applier = proc(p,n) { return p(n); };
applier(succ,5);
applier(pred,5);


verbosity = 1!;
myquit = proc(n) { print(n); quit; };
myquit;
myquit(5);


printsucc = proc(n) { var succ; succ = proc(n) { return n + 1; }; print("Successor of",n,"is",succ(n)); };
printsucc(5);


makeadd = proc(n) { var add; print("n =",n); add = proc(m,n) { return n + m; }; return add; };
makeadd(4);
(makeadd(4))(5,6);


sumall = proc(L = ...) { var acc, i; acc = 0; for i in L do acc = acc + i; return acc; };
sumall;
sumall();
sumall(2);
sumall(2,5);
sumall(2,5,7,9,16);
sumall @ [|1,...,10|];

restart;
print("=============== Test number 245 ================");

nop(17);

restart;
print("=============== Test number 246 ================");

parse("remez(exp(x),5,[-1;1])");

restart;
print("=============== Test number 247 ================");
display=binary;
x^3;
write(x^3.5); 

print(" ", x^3.5);

write(x^3.5) > "foo.sol";
readfile("foo.sol");

print(x^3.5) > "foo.sol";
readfile("foo.sol");

"This is a test " @ x^17.5 @ " " @ x^16.5 @ " " @ x^1 ; 

procedure giveNTimes17thPower(n) {
var res;
res = n * x^17;
return res;
};
giveNTimes17thPower;

restart;
print("=============== Test number 248 ================");
display=powers;
x^3.5;
write(x^3.5); 

print(" ",x^3.5);

write(x^3.5) > "foo.sol";
readfile("foo.sol");

print(x^3.5) > "foo.sol";
readfile("foo.sol");

"This is a test " @ x^17.5 @ " " @ x^16.5 @ " " @ x^1 ; 

procedure giveNTimes17thPower(n) {
var res;
res = n * x^17;
return res;
};
giveNTimes17thPower;

restart;
print("=============== Test number 249 ================");
display=binary;
x^3.5;
write(x^3.5); 

print(x^3.5);

write(x^3.5) > "foo.sol";
readfile("foo.sol");

print(x^3.5) > "foo.sol";
readfile("foo.sol");

"This is a test " @ x^17.5 @ " " @ x^16.5 @ " " @ x^1 ; 

procedure giveNTimes17thPower(n) {
var res;
res = n * x^17;
return res;
};
giveNTimes17thPower;

restart;
print("=============== Test number 250 ================");

(1b-150 + 1b-1000)==1b-150;
1b-150==1b-150;

(1b-150 + 1b-1000)!=1b-150;
1b-150!=1b-150;

(1b-150 + 1b-1000)>=1b-150;
1b-150>=1b-150;
(1b-150 - 1b-1000)>=1b-150;

(1b-150 + 1b-1000)<=1b-150;
1b-150<=1b-150;
(1b-150 - 1b-1000)<=1b-150;


t1 = time(test=(log2(10)==1/log10(2)));
test;
t2 = time(test=(log2(10)<=1/log10(2)));
test;
t3 = time(test=(log2(10)<1/log10(2)));
test;
t4 = time(test=(log2(10)>=1/log10(2)));
test;
t5 = time(test=(log2(10)>1/log10(2)));
test;

/* Non-regression of timings */
1.25*t1 >= t2;
1.25*t1 >= t3;
1.25*t1 >= t4;
1.25*t1 >= t5;

1.25*t2 >= t1;
1.25*t2 >= t3;
1.25*t2 >= t4;
1.25*t2 >= t5;

1.25*t3 >= t1;
1.25*t3 >= t2;
1.25*t3 >= t4;
1.25*t3 >= t5;

1.25*t4 >= t1;
1.25*t4 >= t2;
1.25*t4 >= t3;
1.25*t4 >= t5;

1.25*t5 >= t1;
1.25*t5 >= t2;
1.25*t5 >= t3;
1.25*t5 >= t4;


restart;
print("=============== Test number 251 ================");
0x1.babep5;
0x1.babeP5;

restart;
print("=============== Test number 252 ================");

p=43196308294462357981024142731744116362697650584913 * 2^(-162) + x * (18940787880364826805042269910263056604186704676385 * 2^(-174) + x * (-5407597148055485570520706914301083250046007009437 * 2^(-159) + x * (37158356061791619043023830634511656708279826437585 * 2^(-168) + x * (32172009152272473020619646792981657725473812329329 * 2^(-162) + x * (39187281871360719997063676655971689323407411628341 * 2^(-163) + x * (-26178718640082384235967489910783645916516005140397 * 2^(-160) + x * (34953759648934510005190488964943453595170700848359 * 2^(-159) + x * (-25072723712224167158963228120240167477268243723855 * 2^(-157) + x * (15974295673579355540834731298883300753051706741309 * 2^(-155) + x * (-2176005277471622096317865317106429160007158181801 * 2^(-151) + x * (33095761423826438946556046816497669710132120490171 * 2^(-154) + x * (-27718463467204126627436664918521327080755133519747 * 2^(-153) + x * (41018859930667620878816122286632372011502828873813 * 2^(-153) + x * (-26839299879098746961860416101061429355276420223739 * 2^(-152) + x * (31039058326645149073567114046352001019871290715243 * 2^(-152) + x * (-15801771700140275545965431016584266752105943750081 * 2^(-151) + x * (28076103767775091115696407203606638391234359105431 * 2^(-152) + x * (-42703195634516805510364492875454224918599509045247 * 2^(-153) + x * (26615563879496098110497721850307891153971825144695 * 2^(-153) + x * (-23883679720985746622879467992193972349337502563713 * 2^(-154) + x * (11421445412702654560555951381067331891187471180861 * 2^(-156) + x * (16755037220371053240555785133468864281631785332199 * 2^(-155) + x * (-11646670708092672585279036943937814846722577306673 * 2^(-154) + x * (40930309254568821225122401834793624138027143082127 * 2^(-156) + x * (-28530073517778957683685414455245651646608282167685 * 2^(-156) + x * (16797844237434699460571558890943993481011634641003 * 2^(-156) + x * (-34280238236703589306896157793274873208973597110311 * 2^(-158) + x * (15338943662913561221432544272089077525108228764329 * 2^(-158) + x * (-24217778558935481135350419674960859956074648358005 * 2^(-160) + x * (33803150088894044184226414786438554964658466346207 * 2^(-162) + x * (-41704166743539326703622522076463525048484223709581 * 2^(-164) + x * (45382762035972197898257359180449883318357559151117 * 2^(-166) + x * (-43393016157184010556768624341670918448542448702857 * 2^(-168) + x * (9062263530935343636230776487744808048086339345527 * 2^(-168) + x * (-26249957299281112459419473007793993250525153688655 * 2^(-172) + x * (8153372488500584383974032291269228233309776969651 * 2^(-173) + x * (-34275209578373058119395297855481723033952834442033 * 2^(-178) + x * (14947107854277265774083749720190587877532571672469 * 2^(-180) + x * (-42131790041261699503379598633077466039830243229279 * 2^(-185) + x * (46113329036784136269736055212911483845268185185643 * 2^(-189) + x * (-4598366306216743281628691776535731218705653553989 * 2^(-190) + x * (9516311956994985484307564235440345214209834280373 * 2^(-196) + x * (-4794052779112477067768031456163342500587090722373 * 2^(-201)))))))))))))))))))))))))))))))))))))))))))) - (985247789068894326741367665457048597966095675907751 * 2^(-168));
I = [1;2];
numberroots(p,I);

restart;
print("=============== Test number 253 ================");
NaN < 17;
17 <= NaN;
NaN < NaN;
NaN == NaN ;
NaN == 17 ;
NaN == "aaa" ;
NaN != NaN ;
NaN != 17 ;
NaN != "aaa" ;
NaN != error ;
NaN == error;

restart;
print("=============== Test number 254 ================");
execute("checkTMandAD.sollya");
