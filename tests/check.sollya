/*********************************************************************************/
restart;
0/0;
3/0;
sin(5 * pi) / sin(5 * pi);
sin(5 * pi) / 0;
x/x;
sin(x)/cos(x + 0.5 * pi);
evaluate(0/0,17);
evaluate(3/0,17);
evaluate(sin(5 * pi)/sin(5 * pi),17);
evaluate(sin(5 * pi) / 0, 17);
evaluate(x/x,17);
evaluate(x/x,0);
evaluate(sin(x)/cos(x + 0.5 * pi),17);
evaluate(0/0,[0.17]);
evaluate(3/0,[0.17]);
evaluate(sin(5 * pi)/sin(5 * pi),[0.17]);
evaluate(sin(5 * pi) / 0, [0.17]);
evaluate(x/x,[0.17]);
evaluate(x/x,[0]);
evaluate(x/x,[-1b-100000;-1b-100000]);
evaluate(sin(x)/cos(x + 0.5 * pi),[0.17]);


/*********************************************************************************/
restart; 
0 * infty;
infty - infty;
infty + (-infty);
infty + (-1) * infty;
[0] * infty;
infty * [0];
infty * 0;
[infty] * 0;
0 * [infty];
[0] * [infty];
[infty] * [0];
0 * [-infty,infty];
0 * [3,4];
[0] * 3;
[0] * [3,4];

/*********************************************************************************/
restart; 
2 + [3;4];
[4;5] + [5;6];
1 + 1~0/2~;
exp([5;5]);
a = exp(sin(x));
a([5;6]);


/*********************************************************************************/
restart; 
midpointmode = on;
evaluate(sin(x),3.5);
evaluate(sin(x),[3.5;3.5]);
evaluate(sin(x),3.4);
evaluate(sin(x),[3.4;3.4]);
evaluate(sin(pi * x),3.5);
evaluate(sin(pi * x),[3.5;3.5]);
evaluate(sin(pi * x),3.4);
evaluate(sin(pi * x),[3.4;3.4]);
evaluate(cos(x),3.5);
evaluate(cos(x),[3.5;3.5]);
evaluate(cos(x),3.4);
evaluate(cos(x),[3.4;3.4]);
evaluate(cos(pi * x),3.5);
evaluate(cos(pi * x),[3.5;3.5]);
evaluate(cos(pi * x),3.4);
evaluate(cos(pi * x),[3.4;3.4]);

/*********************************************************************************/
restart; 
23~2/3~;
23~3/2~;
0.1~1/2~;
0.125~0/0~;
0.1~2/1~;
0.1~1/9~;
0.1~9/1~;
0.1~9/1~ == 0.1~1/9~;
-23~2/3~;
-23~3/2~;
-0.1~1/2~;
-0.125~0/0~;
-0.1~2/1~;
-0.1~1/9~;
-0.1~9/1~;
-0.1~9/1~ == -0.1~1/9~;
midpointmode = on;
23~2/3~;
23~3/2~;
0.1~1/2~;
0.125~0/0~;
0.1~2/1~;
0.1~1/9~;
0.1~9/1~;
0.1~9/1~ == 0.1~1/9~;
-23~2/3~;
-23~3/2~;
-0.1~1/2~;
-0.125~0/0~;
-0.1~2/1~;
-0.1~1/9~;
-0.1~9/1~;
-0.1~9/1~ == -0.1~1/9~;

/*********************************************************************************/
restart; 
%12%4097;
%10%0.1;
%34000%0.1;
5e-3;
0.5;
5.0;

/*********************************************************************************/
restart; 
midpointmode = on!;
[-10971362213211443216165490671142190371208827223443b-165;-43885448852845772864661962684568761484835308893771b-167];
[43885448852845772864661962684568761484835308893771b-167;10971362213211443216165490671142190371208827223443b-165];
[0;0];
[1.25;1.25];
prec = 300!;
d = [1 + 1b-200; 1 + 1b-200];
prec = 50!;
d;
midpointmode = off!;
0~0/0~;
1~0/0~e2;

/*********************************************************************************/
restart; 
p = remez(exp(x), 5, [-1;1]);
accurateinfnorm(p - exp(x), [-1;1], 20);
accurateinfnorm(p - exp(x), [-1;1], 30);
accurateinfnorm(p - exp(x), [-1;1], 40);

/*********************************************************************************/
restart; 
p = remez(exp(x), 5, [-1;1]);
midpointmode = on!;
infnorm(p - exp(x), [-1;1]);
accurateinfnorm(p - exp(x), [-1;1], 40);


/*********************************************************************************/
restart;
true && false;

/*********************************************************************************/
restart;
(1 == exp(0)) && (0 == log(1));

/*********************************************************************************/
restart;
[|2,3,4|]:.5;

/*********************************************************************************/
restart;
[|1,2,3|]:.[|4,5,6|];

/*********************************************************************************/
restart;
[||]:.1;

/*********************************************************************************/
restart;
autosimplify = on !;
print(x - x);
autosimplify = off ;
print(x - x);

/*********************************************************************************/
restart; 
autosimplify = on !; 
print(rationalapprox(sin(pi/5.9),7));
autosimplify = off !; 
print(rationalapprox(sin(pi/5.9),7));

/*********************************************************************************/
restart; 
autosimplify; 

/*********************************************************************************/
restart;
print(canonical(1 + x * (x + 3 * x^2));
print(canonical((x + 1)^7));

/*********************************************************************************/
restart;
print(canonical(exp((x + 1)^5) - log(asin(((x + 2) + x)^4 * (x + 1)) + x)));

/*********************************************************************************/
restart;
canonical;
(x + 2)^9;
canonical = on;
(x + 2)^9;
canonical;
canonical = off!;
(x + 2)^9;

/*********************************************************************************/
restart; 
checkinfnorm(sin(x),[0;1.75], 1);
checkinfnorm(sin(x),[0;1.75], 1/2); checkinfnorm(sin(x),[0;20/39],
1/2);

/*********************************************************************************/
restart;
p = remez(exp(x), 5, [-1;1]);
b = dirtyinfnorm(p - exp(x), [-1;1]);
checkinfnorm(p - exp(x), [-1;1], b);
b1 = round(b, 20, RU);
checkinfnorm(p - exp(x), [-1;1], b1);
b2 = round(b, 25, RU);
checkinfnorm(p - exp(x), [-1;1], b2);
diam = 1b-20!;
checkinfnorm(p - exp(x), [-1;1], b2);

/*********************************************************************************/
restart;
coeff((1+x)^5,3);

/*********************************************************************************/
restart;
coeff(sin(x),0);


/*********************************************************************************/
restart;
[|1,...,3|]@[|7,8,9|];

/*********************************************************************************/
restart;
"Hello "@"World!";


/*********************************************************************************/
restart;
p = remez(exp(x),5,[0;1],default,1e-5);
q = remez(exp(x),5,[0;1],1,1e-5);
p==q;

/*********************************************************************************/
restart;
prec;
prec=200;
/*********************************************************************************/
restart;
degree((1+x)*(2+5*x^2));
degree(0);

/*********************************************************************************/
restart;
degree(sin(x));


/*********************************************************************************/
restart;
denominator(5/3);

/*********************************************************************************/
restart;
denominator(exp(x));

/*********************************************************************************/
restart;
a = 5/3;
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
a = exp(x/3);
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
diff(sin(x));

/*********************************************************************************/
restart;
diff(x);

/*********************************************************************************/
restart;
diff(x^x);

/*********************************************************************************/
restart;
dirtyfindzeros(sin(x),[-5;5]);

/*********************************************************************************/
restart;
p=889889516953035728989970006432565914118046095519567616686877970197303381060661650911373862730167175148439925356273269082482473781952934014048404246810557360519237b-677 + x * (392685047947827601505450851321573944986223666748888685200576755780370155425b-270 + x * (6001249631295599119794173987807978692360967732847507181353592112990700057773b-269 + x * (2810819263714567704618725647638922679615238080553927915691512053415493045486398123b-285 + x * (-1824058336184758458969066742009524525357478424213884880689936002406163518809888085b-282 + x * (-1635962643824047985870094070979551805254244569221628530659549014596616547292989167b-278 + x * (-2221893430275237204276174740150279260780200400045772335021314186970726126808696491b-277 + x * (-2344509239333157190743702590067848983609138523264986348387970421264340202282344565b-278 + x * (-3121432669974466360620808110931436402064131037978432583759915593600761236225527063b-280 + x * (-773917963800655166097602101204889507346108619385550777380687347677098189388564217b-280 + x * (-2456664134304800458388215318267381311201333055351202856339933444862365076107756847b-284 + x * (-1626720184987310978262797176693785746775034556205416914324062489909804126678683201b-286 + x * (-231104585279383115477600187708095312641841452578724474216559610155717712302025371b-286 + x * (-3680933644980096067735623537745219210440859046288758139373481017585165187552360301b-293 + x * (-3259689780494466170755267237788248621126395891437548729425851984090889527932420467b-296 + x * (-2599581435183057564397429433475659302180945474761956190281405670069071985683851999b-299 + x * (-3771179902233087427639666368377239797574764415450620446939473166738711685615183895b-303 + x * (-2508412234578166550400356517439588588327863629620629190868385191302596018780682931b-306 + x * (-1540608616477279281853195566313817469497355478589189627649550204979246859107513235b-309 + x * (-439420220920635814586214935574679946204072083482674523109789601765718916704991809b-311 + x * (-468009060720422950370977235618689599561097108833058268913827599220755870449426295b-315 + x * (-3739077119919913294750192472007104569820618708197803907725629332704076068719295703b-322 + x * (-3514943933746426633390643217415002305637086338940264554241886448080254523542173265b-326 + x * (-3121059047879984256463610608157531597037330470020568347331973617204048749182934027b-330 + x * (-1312864579354111113262887940181808301155092005746585944813912861708582761491319641b-333 + x * (-2098749518855048435933859742742670915157652108930060387529476190902580900838616375b-338 + x * (-3195552184735422400133725426132014485645520463361323915420874124693907919094524053b-343 + x * (-1161174353415833860864692662949187722583547339054896423623857188819947376179950943b-346 + x * (-3228938344731937420734334058400932964515218194142091268051871251523584603041078219b-352 + x * (-2151302959832759124631216490489706786963489942946375656340323023788975847458739825b-356)))))))))))))))))))))))))))));
d=[-4893299745940809486040077668449425316537438754630519635933996919120902374669723385b-273;2695250614315944697239070405079945412534462960416900368955895306421692489413122311b-273];
points=24;
prec=175;
dirtyfindzeros(p,d);

/*********************************************************************************/
restart;
points=8;
f = -30879717245370838070712349676119593593642999021581b-262 + x * (1602925418421145866385980186544493412434987593471b-254 + x * (-144948056238098910579201b-166 + x * (-1388389088155368481780539b-165 + x * (372930446538976826977091605b-169 + x * (7333084534724264674540922032302739059645825242835b-240 + x * (-94154913290208326181858262191b-170 + x * (-152168648655806210645752736485b-169 + x * (2992713756691814828898030219764943b-179 + x * (7864786055259407372240893441876605835537257488915b-232 + x * (-6237493281774519295840632997189523667b-185 + x * (5264288383950269840958432779126676591b-184 + x * (6453344754657534210994036765929996563355b-191 + x * (-6089947420748690786646030842592001600390475761005b-219 + x * (-2139151602838708708137808745068947971942145b-197 + x * (8850601420712161663364843707773604622727713b-196 + x * (-2419778405705671295420161430155309749637707589b-204 + x * (-3913767832602863851535634495388834967093390830155b-213 + x * (784340317346483980869004045703825518731284039053b-209 + x * (-6859726825402852929223039253369380154403233703215b-212 + x * (11081394390954533787967018784553174028016039913693b-214 + x^2 * (-24561358996401390906662829513814827282875378510003b-223 + x * (-17086162780105315413330664009610314631565480702611b-226 + x * (-22781550373473753884440885346147086175420640936815b-231 + x^2 * (35889703972980190734873025529930178836354978952767b-240 + x * (10633986362364500958480896453312645581142215986005b-242 + x * (1519140908909214422640128064758949368734602283715b-244 + x^2 * (-14304370489407223620997619662649785320314783802521b-256 + x * (-29531603591034268120769279303535040661295037527785b-261 + x * (-14765801795517134060384639651767520330647518763893b-265 + x^2 * (26952194364722897108438272733351053152554472752631b-275 + x * (3080250784539759669535802598097263217434796886015b-276 + x * (43808011157898804188953636950716632425739333489991b-285 + x^2 * (-15952846168452480615038593256590978522033100104463b-293 + x * (-6544757402442043329246602361678350162885374401831b-296))))))))))))))))))))))))))))))))));
dirtyfindzeros(f,[-1/4;1/2]);

/*********************************************************************************/
restart;
L1=dirtyfindzeros(x^2*sin(1/x),[0;1]);
points=1000!;
L2=dirtyfindzeros(x^2*sin(1/x),[0;1]);
length(L1); length(L2);

/*********************************************************************************/
restart;
prec=175!;
points=72!;
d=[-1/4;1/4];
q= -9218359857239378053149166583414477383319548700448408553592614065149393107991574094431779300909386394607724189300652164116661978352015199072381966773909782438444550115978733458953108338817245522910437621b-747 + x * (-4918945581850403406186365246730251739531892020830917620356470726738192033495929931205b-325 + x * (-280736214993231305175183134111309934939054691730352833297755584396641782537401123811229b-323 + x * (-3296794439148309983785257966527617622126569684362773368016441937091041142082807278547641356788607659b-360 + x * (-1162815620496786429742938279084772339215067215118977341562864870861668735850030387236811817383275179b-353 + x * (-1008541912689173056903175399302104307006639210660465294545137759381337242490809077257293229781348079b-348 + x * (-2342913806489465941429371682485389038775917098603823839631204684807467024475578205433216649559568839b-345 + x * (-3845503555651277193086598769066174969324632164736960479656500661911447287579321920589602471937980643b-342 + x * (-577388972082389265291281910620877528441488726209642544260999332316920744567964515411193102000402419b-336 + x * (-519219181883197970470878489090701126949156069237610094611622947494413702365023482664291543865804873b-333 + x * (-2833359990866141307959291185985539134181537071084158331012832327708969383520113454051058610804395489b-333 + x * (-2945185149312769605397704065992698709602457770414444045223857485639187743533141939697575628713244193b-331 + x * (-1160468705007854401734543272536512039790059278102973696577338293528508320591522206996381660982531121b-328 + x * (-2723447513989440327784471543923582516019769993810371302136778008007642879840422786007059761302054621b-328 + x * (-570584550655303616960095423606880840241523063309212080829789158981209868316415767065068498275244243b-325 + x * (-2471253493541736589990015790002930883291119152102682986179125591155169242944859296371005415159337601b-327 + x * (-2392736186293296342257968331718144679176384826805684359679444147838260255459545951974398227442622079b-328 + x * (609643702336915022892676446979464315541801774685703048044330521476797219277029459405194253086689979b-327 + x * (3231097593498066092130647891005502845743365718576424144385833584357950035247553737581486666711443263b-329 + x * (-2616929422912460208671159862929181361563168014320722181061325647954659236057543538176422702212765551b-329 + x * (-1086487167545885239762353531760289115589103541139412690935586322082743117281008925919085965653794949b-327 + x * (1153825455878837467942846302880561850626910163556219817718535312940642431171044830413067264936560961b-329 + x * (426190615910837958652435841808042265057578969751017988354235596856555790286394949735695426638795801b-326 + x * (-3049261258248492512553957727488457032717889068046361580110964834482321516378120619338953799867457085b-331 + x * (-586261917347835885602204268267128317301691595415261615087931507852755272136513833664941669345299455b-327 + x * (557404050939006934986049431419816775556256361324564754562880001875773387045401098578530387413592223b-329 + x * (1387792776779230471943447791424857914519796928841252577718784103138982912056821653821032532984716727b-329 + x * (-3285995967957263591382748517270098492767877788997345843579947925264244169977616724843010359331969369b-332 + x * (-2893733837361007965265880750279330910788837913921452587000653264181468595447220905672781622950041213b-331 + x * (2199755241022371297558315217874257721807914029642563602999313936664508235707383402095170887612052351b-332 + x * (1341716602486466713792361354627466135493950524298879098494972829279985925927125951673813790414661531b-331 + x * (-2618762158988042172639597959959233154121151634038714713650241708720138932317777436297331043107894569b-333 + x * (-2222628791105864876742284319851745692732772143298609730741825215152369549318866089775799001868289055b-333 + x * (1394252569291750341939137699870781790569095818186015349376261485403297214984487021889254669548510317b-333 + x * (1639933449461612644715031920116769872569878983758303565286275554365180610123210270899340090394758633b-334 + x * (-2686057470023396416882760325090034443069344463883329368721499542644237388965710943335487207802554807b-335 + x * (-4248031130778005062883783455569307697104170780174332854998143813334933628573225956680251203811974769b-337 + x * (1182918772047457832161326831475275004541615944168604737874353936451448673730065881982623690307880759b-335 + x * (1155942155199347992714554253750644756926549142439146462958050288530938493284793615956292869693993481b-337 + x * (-3843970797311274539703466942415513626343815100833181510828503241149349525263807555842211835887304945b-338 + x * (-911896617945003768467549496971757071792384511583649215671089976857370126562063072959032092688041765b-339 + x * (2899153875447292358555647058674865557982018754475514975431680646518577945787343771760767453586380373b-339 + x * (2814711995680979197123599172392312114997239503565632824186823439044755104186889295015107391523650727b-346 + x * (-4078068662294376287769630395391036045953560687435461579992166934989325356469416963310883551455800035b-341 + x * (1578093989360301650113165157647756083606175911087206489455403622990533896570996899941806640379305599b-343 + x * (670274776634839762718996133891259887713238683778474539521833015020547136895362189421392897901904115b-340 + x * (-4319276991183372496512264650033207768343638687536414370045488224752399433905265872744718416595562123b-345 + x * (-823910437157444415290569431881368027976363385359934647481458147660890954766469931007465699329136957b-342 + x * (2069930588992432394648381630714319993106283612167245241249177946697377775227910464866309506467164921b-345 + x * (471956936811187245496581795621972370251530022010989098340371078673016223669556054707117062221148627b-343 + x * (-1682144801681154037288113413880602875598325892042327333948090678520839713740738536970627274924722261b-346 + x * (-3999428992054846599226237581872104205444421412485465539254360461538783192239568417702429208288527227b-348 + x * (614426987676766313865592763161818760240370442461047379882461858639453374203432090754069797245993535b-346 + x * (1924281412982230934592123665752061076486907029124263508746995295869043166996273560145191699834020075b-349 + x * (-828221707009915071892889554884240633428190641459446811664259375137324321171016305265421983147628791b-348 + x * (-3228859555947787361261301546703259141951112730680872932487743821293715337493903582977099568017411617b-352 + x * (2088399455699548526173998278568807469735959977808714960654457704286587767096744447139202052956622891b-351 + x * (4180181285584806296773300952793969462002402079745687195409223730823971765973558485858389778959828347b-355 + x * (-2481907107341039122200669115276819951315877544533462699078887554357896026632162111609352376691377825b-353 + x * (-881049855457576526204607872590866998927428796875075523974303014990268119597795987642082333399947437b-357 + x * 2792182385824577983264051229631298430934776956763131548378368724335093098253842026336792725034277253b-355)))))))))))))))))))))))))))))))))))))))))))))))))))))))))));
dirtyfindzeros(q,d);

/*********************************************************************************/
restart;
dirtyinfnorm(sin(x),[-10;10]);

/*********************************************************************************/
restart;
prec=15!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);
prec=40!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);
prec=100!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);
prec=200!;
dirtyinfnorm(exp(cos(x))*sin(x),[0;5]);

/*********************************************************************************/
restart;
dirtyinfnorm(x^2, [log(0);log(1)]);

/*********************************************************************************/
restart;
sin(10);
dirtyintegral(cos(x),[0;10]);
points=2000!;
dirtyintegral(cos(x),[0;10]);

/*********************************************************************************/
restart;
display = decimal;
a = evaluate(sin(pi * x), 0.25);
a;
display = binary;
a;
display = hexadecimal;
a;
display = dyadic;
a;
display = powers;
a;

/*********************************************************************************/
restart;
5 / 2;

/*********************************************************************************/
restart;
x / 2;

/*********************************************************************************/
restart;
x / x;

/*********************************************************************************/
restart;
3 / 0;

/*********************************************************************************/
restart;
diff(sin(x) / exp(x));

/*********************************************************************************/
restart;
verbosity=1!;
a = 1+ 2^(-100);
DD(a);
prec=50!;
DD(a);

/*********************************************************************************/
restart;
display=binary!;
DE(0.1);
round(0.1,64,RN);

/*********************************************************************************/
restart;
D(2^(-2000));
DE(2^(-2000));

/*********************************************************************************/
restart;
verbosity=1!;
f = sin(DE(x));
f(pi);
g = sin(round(x,64,RN));

/*********************************************************************************/
restart;
display=binary!;
D(0.1);
D(4.17);
D(1.011_2 * 2^(-1073));

/*********************************************************************************/
restart;
"Hello" == "Hello";
"Hello" == "Salut";
"Hello" == 5;
5 + x == 5 + x;

/*********************************************************************************/
restart;
1 == exp(0);
asin(1) * 2 == pi;
exp(5) == log(4);

/*********************************************************************************/
restart;
prec = 12;
16384 == 16385;

/*********************************************************************************/
restart;
error == error;

/*********************************************************************************/
restart;
print(5 + "foo");

/*********************************************************************************/
restart;
error;

/*********************************************************************************/
restart;
error == error;
error != error;

/*********************************************************************************/
restart;
correct = 5 + 6;
incorrect = 5 + "foo";
(correct == error || correct != error);
(incorrect == error || incorrect != error);


/*********************************************************************************/
restart;
print(evaluate(sin(pi * x), 2.25));

/*********************************************************************************/
restart;
print(evaluate(sin(pi * x), 2));

/*********************************************************************************/
restart;
print(evaluate(sin(pi * x), [2, 2.25]));

/*********************************************************************************/
restart;
print(evaluate(sin(pi * x), 2 + 0.25 * x));

/*********************************************************************************/
restart;
print(evaluate(sin(pi * 1/x), 0));

/*********************************************************************************/
restart;
print(expand(x^3));

/*********************************************************************************/
restart;
print(expand((x + 2)^3 + 2 * x));

/*********************************************************************************/
restart;
print(expand(exp((x + (x + 3))^5)));

/*********************************************************************************/
restart;
a=round(Pi,20,RN);
e=exponent(a);
e;
m=mantissa(a);
a-m*2^e;

/*********************************************************************************/
restart;
true && false;
2<1;

/*********************************************************************************/
restart;
findzeros(sin(x),[-5;5]);
diam=1e-10!;
findzeros(sin(x),[-5;5]);

/*********************************************************************************/
restart;
autosimplify = off!;
fullparentheses = off;
print(1 + 2 + 3);
fullparentheses = on;
print(1 + 2 + 3);

/*********************************************************************************/
restart;
5 >= 4;
5 >= 5;
5 >= 6;
exp(2) >= exp(1);
log(1) >= exp(2);

/*********************************************************************************/
restart;
prec = 12;
16384 >= 16385;

/*********************************************************************************/
restart;
5 > 4;
5 > 5;
5 > 6;
exp(2) > exp(1);
log(1) > exp(2);

/*********************************************************************************/
restart;
prec = 12;
16384 > 16385;

/*********************************************************************************/
restart;
guessdegree(exp(x),[-1;1],1e-10);


/*********************************************************************************/
restart;
guessdegree(1, [-1;1], 1e-8, 1/exp(x));

/*********************************************************************************/
restart;
head([|1,2,3|]);
head([|1,2...|]);

/*********************************************************************************/
restart;
verbosity = 1!;
q = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c");
printexpansion(q);
r = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c",honorcoeffprec);
printexpansion(r);


/*********************************************************************************/
restart;
hopitalrecursions=0;
evaluate(log(1+x)^2/x^2,[-1/2; 1]);
hopitalrecursions=1;
evaluate(log(1+x)^2/x^2,[-1/2; 1]);
/*********************************************************************************/
restart;
print(horner(1 + 2 * x + 3 * x^2));
print(horner((x + 1)^7));

/*********************************************************************************/
restart;
print(horner(exp((x + 1)^5) - log(asin(x + x^3) + x)));

/*********************************************************************************/
restart;
verbosity = 1!;
q = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c");
printexpansion(q);
r = implementpoly(1 - simplify(TD(1/6)) * x^2,[-1b-10;1b-10],1b-60,DD,"p","implementation.c",honorcoeffprec);
printexpansion(r);

/*********************************************************************************/
restart;
p = 0x3ff0000000000000 + x * (0x3ff0000000000000 + x * (0x3fe0000000000000 + x * (0x3fc5555555555559 + x * (0x3fa55555555555bd + x * (0x3f811111111106e2 + x * (0x3f56c16c16bf5eb7 + x * (0x3f2a01a01a292dcd + x * (0x3efa01a0218a016a + x * (0x3ec71de360331aad + x * (0x3e927e42e3823bf3 + x * (0x3e5ae6b2710c2c9a + x * (0x3e2203730c0a7c1d + x * 0x3de5da557e0781df))))))))))));
q = implementpoly(p,[-1/2;1/2],1b-60,D,"p","implementation.c",honorcoeffprec,"implementation.gappa");
if (q != p) then print("During implementation, rounding has happened.") else print("Polynomial implemented as given.");	

/*********************************************************************************/
restart;
infnorm(exp(x),[-2;3]);

/*********************************************************************************/
restart;
infnorm(exp(x),[-2;3],[| [0;1], [2;2.5] |]);

/*********************************************************************************/
restart;
infnorm(exp(x),[-2;3],"proof.txt", [| [0;1], [2;2.5] |]);

/*********************************************************************************/
restart;
infnorm(exp(x),[1;1]);

/*********************************************************************************/
restart;
infnorm(exp(x), [log(0);log(1)]);


/*********************************************************************************/
restart;
inf([1;3]);
inf(0);

/*********************************************************************************/
restart;
display=binary!;
I=[0.111110000011111_2; 1];
inf(I);
prec=12!;
inf(I);

/*********************************************************************************/
restart;
sin(10);
integral(cos(x),[0;10]);
diam=1e-5!;
integral(cos(x),[0;10]);

/*********************************************************************************/
restart;
isbound(x);
isbound(f);
isbound(g);
f=sin(x);
isbound(x);
isbound(f);
isbound(g);

/*********************************************************************************/
restart;
isbound(a);
{ var a; isbound(a); };
isbound(a);

/*********************************************************************************/
restart;
f=sin(x);
isbound(x);
rename(x,y);
isbound(x);

/*********************************************************************************/
restart;
x=1;
f=sin(y);
rename(y,x);
f;
x;
isbound(x);
rename(x,y);
isbound(x);
x;

/*********************************************************************************/
restart;
isevaluable(sin(pi * 1/x), 0.75);
print(evaluate(sin(pi * 1/x), 0.75));

/*********************************************************************************/
restart;
isevaluable(sin(pi * 1/x), 0.5);
print(evaluate(sin(pi * 1/x), 0.5));


/*********************************************************************************/
restart;
isevaluable(sin(pi * 1/x), 0);
print(evaluate(sin(pi * 1/x), 0));

/*********************************************************************************/
restart;
length("Hello World!");

/*********************************************************************************/
restart;
length([|1,...,5|]);

/*********************************************************************************/
restart;
length([| |]);

/*********************************************************************************/
restart;
length([|1,2...|]);
/*********************************************************************************/
restart;
5 <= 4;
5 <= 5;
5 <= 6;
exp(2) <= exp(1);
log(1) <= exp(2);

/*********************************************************************************/
restart;
prec = 12;
16385 <= 16384;

/*********************************************************************************/
restart;
5 < 4;
5 < 5;
5 < 6;
exp(2) < exp(1);
log(1) < exp(2);

/*********************************************************************************/
restart;
prec = 12;
16384 < 16385;

/*********************************************************************************/
restart;
a=round(Pi,20,RN);
e=exponent(a);
m=mantissa(a);
m;
a-m*2^e;

/*********************************************************************************/
restart;
a = round(Pi,30,RD);
b = round(Pi,30,RU);
d = [a,b];
d;
midpointmode=on!;
d;

/*********************************************************************************/
restart;
mid([1;3]);
mid(17);

/*********************************************************************************/
restart;
5 - 2;

/*********************************************************************************/
restart;
x - 2;

/*********************************************************************************/
restart;
x - x;

/*********************************************************************************/
restart;
diff(sin(x) - exp(x));

/*********************************************************************************/
restart;
5 * 2;

/*********************************************************************************/
restart;
x * 2;

/*********************************************************************************/
restart;
x * x;

/*********************************************************************************/
restart;
diff(sin(x) * exp(x));

/*********************************************************************************/
restart;
"Hello" != "Hello";
"Hello" != "Salut";
"Hello" != 5;
5 + x != 5 + x;

/*********************************************************************************/
restart;
1 != exp(0);
asin(1) * 2 != pi;
exp(5) != log(4);

/*********************************************************************************/
restart;
prec = 12;
16384 != 16385;

/*********************************************************************************/
restart;
error != error;

/*********************************************************************************/
restart;
nop;

/*********************************************************************************/
restart;
succ = proc(n) { return n + 1; };
succ;
succ(5);

/*********************************************************************************/
restart;
! false;

/*********************************************************************************/
restart;
! (1 == exp(0));

/*********************************************************************************/
restart;
numerator(5/3);

/*********************************************************************************/
restart;
numerator(exp(x));

/*********************************************************************************/
restart;
a = 5/3;
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
a = exp(x/3);
b = numerator(a)/denominator(a);
print(a);
print(b);

/*********************************************************************************/
restart;
canonical=on;
p=1+x+x^2;
mode=off;
p;
canonical=mode;
p;

/*********************************************************************************/
restart;
p=1+x+x^2;
mode=on;
p;
canonical=mode;
p;

/*********************************************************************************/
restart;
false || false;

/*********************************************************************************/
restart;
(1 == exp(0)) || (0 == log(1));

/*********************************************************************************/
restart;
parse("exp(x)");

/*********************************************************************************/
restart;
verbosity=1!; prec=12!;
a = 2*pi;
a;
prec=20!;
a;

/*********************************************************************************/
restart;
prec=12!;
d = [pi; 5];
d;
prec=20!;
d;

/*********************************************************************************/
restart;
1 + 2;

/*********************************************************************************/
restart;
x + 2;

/*********************************************************************************/
restart;
x + x;

/*********************************************************************************/
restart;
diff(sin(x) + exp(x));

/*********************************************************************************/
restart;
f=x^2*sin(1/x);
points=10;
dirtyfindzeros(f, [0;1]);
points=100;
dirtyfindzeros(f, [0;1]);


/*********************************************************************************/
restart;
5 ^ 2;

/*********************************************************************************/
restart;
x ^ 2;

/*********************************************************************************/
restart;
3 ^ (-5);

/*********************************************************************************/
restart;
(-3) ^ (-2.5);


/*********************************************************************************/
restart;
diff(sin(x) ^ exp(x));

/*********************************************************************************/
restart;
a=round(Pi,20,RN);
precision(a);
m=mantissa(a);
ceil(log2(m));

/*********************************************************************************/
restart;
display=binary!;
prec=50;
dirtyinfnorm(exp(x),[1;2]);
prec=100;
dirtyinfnorm(exp(x),[1;2]);

/*********************************************************************************/
restart;
1.:[|2,3,4|];

/*********************************************************************************/
restart;
[|1,2,3|].:[|4,5,6|];

/*********************************************************************************/
restart;
1.:[||];

/*********************************************************************************/
restart;
printexpansion(roundcoefficients(taylor(exp(x),5,0),[|DD...|]));

/*********************************************************************************/
restart;
printexpansion(remez(exp(x),5,[-1;1]));

/*********************************************************************************/
restart;
verbosity = 1!;
prec = 3500!;
printexpansion(pi);

/*********************************************************************************/
restart;
printfloat(3);

/*********************************************************************************/
restart;
prec=100!;
verbosity = 1!;
printfloat(exp(5));

/*********************************************************************************/
restart;
printhexa(3);

/*********************************************************************************/
restart;
prec=100!;
verbosity = 1!;
printhexa(exp(5));

/*********************************************************************************/
restart;
print(x + 2 + exp(sin(x))); 
print("Hello","world");
print("Hello","you", 4 + 3, "other persons.");

/*********************************************************************************/
restart;
print("Hello");
print([|"Hello"|]);
s = "Hello";
print(s,[|s|]);
t = "Hello\tyou";
print(t,[|t|]);

/*********************************************************************************/
restart;
display = decimal;
a = evaluate(sin(pi * x), 0.25);
b = evaluate(sin(pi * x), [0.25; 0.25 + 1b-50]);
print(a);
display = binary;
print(a);
display = hexadecimal;
print(a);
display = dyadic;
print(a);
display = powers;
print(a);
display = decimal;
midpointmode = off;
print(b);
midpointmode = on;
print(b);
display = dyadic;
print(b);
display = decimal;
autosimplify = off;
fullparentheses = off;
print(x + x * ((x + 1) + 1));
fullparentheses = on;
print(x + x * ((x + 1) + 1));

/*********************************************************************************/
restart;
printxml(x + 2 + exp(sin(x)));

/*********************************************************************************/
restart;
procedure succ(n) { return n + 1; };
succ(5);
3 + succ(0);
succ;

/*********************************************************************************/
restart;
succ = proc(n) { return n + 1; };
succ(5);
3 + succ(0);
succ;

/*********************************************************************************/
restart;
add = proc(m,n) { var res; res := m + n; return res; };
add(5,6);
add;
verbosity = 1!;
add(3);
add(true,false);


/*********************************************************************************/
restart;
succ = proc(n) { return n + 1; };
succ(5);
succ(x);

/*********************************************************************************/
restart;
hey = proc() { print("Hello world."); };
hey();
print(hey());
hey;


/*********************************************************************************/
restart;
fac = proc(n) { var res; if (n == 0) then res := 1 else res := n * fac(n - 1); return res; };
fac(5);
fac(11);
fac;

/*********************************************************************************/
restart;
myprocs = [| proc(m,n) { return m + n; }, proc(m,n) { return m - n; } |];
(myprocs[0])(5,6);
(myprocs[1])(5,6);
succ = proc(n) { return n + 1; };
pred = proc(n) { return n - 1; };
applier = proc(p,n) { return p(n); };
applier(succ,5);
applier(pred,5);

/*********************************************************************************/
restart;
verbosity = 1!;
myquit = proc(n) { print(n); quit; };
myquit;
myquit(5);

/*********************************************************************************/
restart;
printsucc = proc(n) { var succ; succ = proc(n) { return n + 1; }; print("Successor of",n,"is",succ(n)); };
printsucc(5);

/*********************************************************************************/
restart;
makeadd = proc(n) { var add; print("n =",n); add = proc(m,n) { return n + m; }; return add; };
makeadd(4);
(makeadd(4))(5,6);

/*********************************************************************************/
restart;
quit;

/*********************************************************************************/
restart;
pi10 = rationalapprox(Pi,10);
pi50 = rationalapprox(Pi,50);
pi100 = rationalapprox(Pi,100);
print( pi10, ": ", simplify(floor(-log2(abs(pi10-Pi)/Pi))), "bits." );
print( pi50, ": ", simplify(floor(-log2(abs(pi50-Pi)/Pi))), "bits." );
print( pi100, ": ", simplify(floor(-log2(abs(pi100-Pi)/Pi))), "bits." );

/*********************************************************************************/
restart;
a=0.1;
b=rationalapprox(a,4);
numerator(b); denominator(b);
print(simplify(floor(-log2(abs((b-a)/a)))), "bits.");

/*********************************************************************************/
restart;
display=binary!;
round(Pi,20,RD);





/*********************************************************************************/
restart;
p = remez(exp(x),5,[0;1]);
degree(p);
dirtyinfnorm(p-exp(x),[0;1]);

/*********************************************************************************/
restart;
p = remez(1,[|0,2,4,6,8|],[0,Pi/4],1/cos(x));
canonical=on!;
p;

/*********************************************************************************/
restart;
p1 = remez(exp(x),5,[0;1],default,1e-5);
p2 = remez(exp(x),5,[0;1],default,1e-10);
p3 = remez(exp(x),5,[0;1],default,1e-15);
dirtyinfnorm(p1-exp(x),[0;1]);
dirtyinfnorm(p2-exp(x),[0;1]);
dirtyinfnorm(p3-exp(x),[0;1]);


/*********************************************************************************/
restart;
f=sin(x);
f;
rename(x,y);
f;

/*********************************************************************************/
restart;
a=1;
f=sin(x);
rename(x,a);
a;
f;

/*********************************************************************************/
restart;
verbosity=1!;
f=sin(x);
rename(y,z);

/*********************************************************************************/
restart;
rename(x,y);
isbound(x);
isbound(y);

/*********************************************************************************/
restart;
print(exp(x));
a = 3;
restart;
print(x);
a;

/*********************************************************************************/
restart;
print(exp(x));
for i from 1 to 10 do {
	print(i);
	if (i == 5) then restart;
};

/*********************************************************************************/
restart;
print(exp(x));
a = 3;
for i from 1 to 10 do {
	print(i);
	if (i == 5) then {
		restart;
		i = 7;
	};
};
print(x);
a;


/*********************************************************************************/
restart;
succ = proc(n) { var res; res := n + 1; return res; };
succ(5);
succ;

/*********************************************************************************/
restart;
hey = proc(s) { print("Hello",s); };
hey("world");
hey;

/*********************************************************************************/
restart;
revert([| |]);

/*********************************************************************************/
restart;
revert([|2,3,5,2,1,4|]);
/*********************************************************************************/
restart;
display=binary!;
round(Pi,20,RN);


/*********************************************************************************/
restart;
p=exp(1) + x*(exp(2) + x*exp(3));
display=binary!;
roundcoefficients(p,[|DD,D,D|]);
roundcoefficients(p,[|DD,D...|]);

/*********************************************************************************/
restart;
f=sin(exp(1)*x);
display=binary!;
f;
roundcoefficients(f,[|D...|]);

/*********************************************************************************/
restart;
p=exp(1) + x*(exp(2) + x*exp(3));
verbosity=1!;
display=binary!;
roundcoefficients(p,[|DD,D|]);


/*********************************************************************************/
restart;
printbinary(roundcorrectly([1.010001_2; 1.0101_2]));
printbinary(roundcorrectly([1.00001_2; 1.001_2]));

/*********************************************************************************/
restart;
roundcorrectly([-1; 1]);

/*********************************************************************************/
restart;
display=binary!;
round(Pi,20,RN);

/*********************************************************************************/
restart;
display=binary!;
a=2^(-1100);
round(a,53,RN);
double(a);

/*********************************************************************************/
restart;
display=binary!;
round(Pi,20,RU);


/*********************************************************************************/
restart;
display=binary!;
round(Pi,20,RZ);


/*********************************************************************************/
restart; 
searchgal(log(x),2,53,15,DD,1b-112);
searchgal(log(x),2,53,18,DD,1b-112);

/*********************************************************************************/
restart; 
f = exp(x);
s = searchgal(f,2,53,18,DD,1b-112);
if (s != [||]) then {
   v = s[0];
   print("The rounding error is 2^(",evaluate(log2(abs(DD(f)/f - 1)),v),")");
} else print("No value found");

/*********************************************************************************/
restart;
searchgal([|sin(x),cos(x)|],1,53,15,[|D,D|],[|1b-62,1b-60|]);

/*********************************************************************************/
restart;
print(simplifysafe((6 + 2) + (5 + exp(0)) * x));

/*********************************************************************************/
restart;
print(simplifysafe((log(x - x + 1) + asin(1))));

/*********************************************************************************/
restart;
print(simplifysafe((log(x - x + 1) + asin(1)) - (atan(1) * 2)));

/*********************************************************************************/
restart;
print(simplify(sin(pi * x)));
print(simplify(erf(exp(3) + x * log(4))));

/*********************************************************************************/
restart;
prec = 20!;
t = erf(0.5);
s = simplify(erf(0.5));
prec = 200!;
t;
s;

/*********************************************************************************/
restart;
sort([| |]);
sort([|2,3,5,2,1,4|]);
/*********************************************************************************/
restart;
p = taylor(exp(x),5,0);
s = subpoly(p,[|1,3,5|]);
print(p);
print(s);

/*********************************************************************************/
restart;
p = remez(atan(x),10,[-1,1]);
subpoly(p,[|1,3,5...|]);

/*********************************************************************************/
restart;
subpoly(exp(x),[|1,2,3|]);

/*********************************************************************************/
restart;
f=sin(x);
g=cos(x);
substitute(f,g);
f(g);

/*********************************************************************************/
restart;
a=1;
f=sin(x);
substitute(f,a);
/*********************************************************************************/
restart;
sup([1;3]);
sup(5);

/*********************************************************************************/
restart;
display=binary!;
I=[0; 0.111110000011111_2];
sup(I);
prec=12!;
sup(I);

/*********************************************************************************/
restart;
tail([|1,2,3|]);
tail([|1,2...|]);

/*********************************************************************************/
restart;
f=exp(x);
p=remez(f,3,[0;1]);
taylorrecursions=0;
evaluate(f-p, [0;1]);
taylorrecursions=1;
evaluate(f-p, [0;1]);
/*********************************************************************************/
restart;
print(taylor(exp(x),5,0));

/*********************************************************************************/
restart;
print(taylor(asin(x),7,0));

/*********************************************************************************/
restart;
print(taylor(erf(x),6,0));

/*********************************************************************************/
restart;
verbosity=1!;
p=remez(sin(x),10,[-1;1]);

/*********************************************************************************/
restart;
verbosity=1!;
a = 1+ 2^(-55)+2^(-115);
TD(a);
prec=110!;
TD(a);

/*********************************************************************************/
restart;
true && false;
2>1;

/*********************************************************************************/
restart;
exp(x); 
a = 3; 
{var a, b; a=5; b=3; {var a; var b; b = true; a = 1; a; b;}; a; b; }; 
a;

/*********************************************************************************/
restart;
verbosity=0!;
1.2+"toto";
verbosity=1!;
1.2+"toto";
verbosity=2!;
1.2+"toto";
/*********************************************************************************/
restart;
print(void);
void;

/*********************************************************************************/
restart;
hey = proc() { print("Hello world."); };
hey;
hey();
hey(void);
print(hey());

/*********************************************************************************/
restart; 
worstcase(exp(x),24,[1,2],24,1b-26);


/*********************************************************************************/
restart;
write(x + 2 + exp(sin(x))); 
write("Hello\n");
write("Hello","world\n");
write("Hello","you", 4 + 3, "other persons.\n");

/*********************************************************************************/
restart;
write("Hello","\n");
write([|"Hello"|],"\n");
s = "Hello";
write(s,[|s|],"\n");
t = "Hello\tyou";
write(t,[|t|],"\n");

/*********************************************************************************/
restart;
write(x + 2 + exp(sin(x))) > "foo.sol";
readfile("foo.sol");

/*********************************************************************************/
restart;
write(x + 2 + exp(sin(x))) >> "foo.sol";


/*********************************************************************************/
restart;
P = fpminimax(cos(x),6,[|DD, DD, D...|],[-1b-5;1b-5]);
printexpansion(P);

P = fpminimax(sin(x),6,[|32...|],[-1b-5;1b-5], fixed, absolute);
display = powers!;
P;

P = fpminimax(exp(x), [|3,4|], [|D,24|], [-1/256; 1/246], 1+x+x^2/2);
display = powers!;
P;

f = cos(exp(x));
pstar = remez(f, 5, [-1b-7;1b-7]);
listpoints = dirtyfindzeros(f-pstar, [-1b-7; 1b-7]);
P1 = fpminimax(f, 5, [|DD...|], listpoints, absolute, default, default, pstar);
P2 = fpminimax(f, 5, [|D...|], listpoints, absolute, default, default, pstar);
P3 = fpminimax(f, 5, [|D, D, D, 24...|], listpoints, absolute, default, default, pstar);
print("Error of pstar: ", dirtyinfnorm(f-pstar, [-1b-7; 1b-7]));
print("Error of P1:    ", dirtyinfnorm(f-P1, [-1b-7; 1b-7]));
print("Error of P2:    ", dirtyinfnorm(f-P2, [-1b-7; 1b-7]));
print("Error of P3:    ", dirtyinfnorm(f-P3, [-1b-7; 1b-7]));

/*********************************************************************************/
restart;
autosimplify=off!;
1+1;
1-+2;
-3--4;
5+-8;
3*6;
4*-5;
4/-3;
2-5^3;
2+-3/4;
4/-5-+6;
3*5/45;
3/4/6;
2*6+5*5;
5+3/6;
5-+5*+5;
24+2;
-4-9*4;
32/48*3;
5+-4*-4*64-34^2/-2*5-7+8*3*4--5;

3*sin(3)+5--cos(7);
-exp(24*sin(1)/2);

(2-5)3;
2^(-53);
2^((-5)4);
2^(-54);
(2+-3)/4;
2+(-3)/4;
2+-(3/4);
2+-(-3)/4;
2+(-3/4);
(4/-5)-+6;
4/(-5-+6);
4/-5-(+6);
(4/-5)-(+6);
3*(5/45);
(3*5)/45;
((3*5)/4)5;
3*5/(45);
3*(5/4)5;
(3/4)/6;
3/(4/6);
2*(6+5*5);
(2*6)+5*5;
2*(6+5)*5;
2*6+(5*5);
(2*(6+5))*5;
(2*6+5)*5;
((2*6)+5)*5;
(5+3)/6;
5+(3/6);
5-(+5*+5);
(5-+5)*+5;
5-+(5*+5);
(24)+2;
2^(4+2);
-(4-10)*4;
(-4)-10*4;
(-4-10)*4;
(-4)^(-10)*4;
-4^-(10*4);
-(4-10)*4;
-(4^-(10*4));
(-4)^(-10)*4;
-(4^-(10*4));
(32)/4^(8*3);
3^(2/48)*3;
(32/4)^(8*3);
3^(2/(48))*3;
3^(2/4^(8*3));
((32)/4)8*3;
3^(2/48)*3;
(32/(48))*3;
32/4^(8*3);
3^(2/48*3);
5+-4*-4*64-34^2/-2*5-7+8*3*4--5;
5+-4*(-4*6^(4-3)4)2/-2*5-7+8*3*4--5;
(5+-4)*-(4*6^(4-3)4^2/-2*5-7+8*3*4)--5;
5+-(4*(-4)*64-(34^2)/(-2*5-7)+8*3*4)--5;
(5+-(4*-4*(64-3^(42/-2*5)-7)+8*3))*4--5;
5+-(4*-4)*(64-34^2/-2*5-7+8)*3*4--5;
5+(-4*-4)*(64-(34)2/-2*5)-7+8*3*4--5;
(5+-4)*-(4*64-(34^2/-2*5-7)+8*3)*4--5;